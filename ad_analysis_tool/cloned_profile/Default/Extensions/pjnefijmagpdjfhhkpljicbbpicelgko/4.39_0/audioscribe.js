import"./modulepreload-polyfill.js";import{d as Ce,c as st}from"./pinia.js";import{s as De,_ as ee,x as D,a as d,o as l,b as n,y as de,w as ue,z as Se,n as q,m as P,e as F,t as z,r as Y,c as U,g as B,F as G,h as X,k as j,v as se,j as J,i as me,A as ce,B as ne,f as qe,C as nt,d as ot,D as at,E as Re,q as it}from"./plugin-vue_export-helper.js";/**
 * @license lucide-vue-next v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),rt=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,o,s)=>s?s.toUpperCase():o.toLowerCase()),lt=t=>{const e=rt(t);return e.charAt(0).toUpperCase()+e.slice(1)},ct=(...t)=>t.filter((e,o,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===o).join(" ").trim(),Ie=t=>t==="";/**
 * @license lucide-vue-next v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ge={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};/**
 * @license lucide-vue-next v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=({name:t,iconNode:e,absoluteStrokeWidth:o,"absolute-stroke-width":s,strokeWidth:m,"stroke-width":a,size:c=ge.width,color:f=ge.stroke,...r},{slots:u})=>De("svg",{...ge,...r,width:c,height:c,stroke:f,"stroke-width":Ie(o)||Ie(s)||o===!0||s===!0?Number(m||a||ge["stroke-width"])*24/Number(c):m||a||ge["stroke-width"],class:ct("lucide",r.class,...t?[`lucide-${ze(lt(t))}-icon`,`lucide-${ze(t)}`]:["lucide-icon"])},[...e.map(i=>De(...i)),...u.default?[u.default()]:[]]);/**
 * @license lucide-vue-next v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=(t,e)=>(o,{slots:s,attrs:m})=>De(dt,{...m,...o,iconNode:e,name:t},s);/**
 * @license lucide-vue-next v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=O("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-vue-next v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=O("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-vue-next v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ut=O("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-vue-next v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=O("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-vue-next v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=O("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-vue-next v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mt=O("circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-vue-next v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pt=O("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-vue-next v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=O("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);/**
 * @license lucide-vue-next v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yt=O("loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);/**
 * @license lucide-vue-next v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=O("mic",[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]]);/**
 * @license lucide-vue-next v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gt=O("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-vue-next v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=O("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-vue-next v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=O("rotate-cw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]);/**
 * @license lucide-vue-next v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ft=O("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-vue-next v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const St=O("square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-vue-next v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bt=O("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-vue-next v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=O("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);/**
 * @license lucide-vue-next v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=O("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-vue-next v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xt=O("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]);/**
 * @license lucide-vue-next v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=O("wand-sparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-vue-next v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=O("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),I={mpTrack(t,e){e=e||{},console.log("[MP]",t,e),chrome.runtime.sendMessage({message_id:"mp_track",category:t,info:e})},isMobile(){},xs(t){return t>1?"s":""},timeSince(t){const e=Math.floor((new Date-t)/1e3);let o=Math.floor(e/31536e3);return o>=1?`${o} year${this.xs(o)}`:(o=Math.floor(e/2592e3),o>=1?`${o} month${this.xs(o)}`:(o=Math.floor(e/86400),o>=1?`${o} day${this.xs(o)}`:(o=Math.floor(e/3600),o>=1?`${o} hour${this.xs(o)}`:(o=Math.floor(e/60),o>=1?`${o} minute${this.xs(o)}`:(o=Math.floor(e),"few seconds")))))},naturaltime(t){return`${this.timeSince(new Date(t))} ago`},isSafari(){return!1},log(t,e,o="",s=!1,m=!0){console.log("[GA]",t,e,o,s)},copyToClipboard(t,e,o){const s=new ClipboardItem({"text/plain":new Blob([e],{type:"text/plain"}),"text/html":new Blob([t],{type:"text/html"})});navigator.clipboard.write([s]).then(o).catch(m=>{this.log("JSError","Failed to copy to clipboard",m.toString())})}},te=Ce("scribe",{state:()=>({style:"",selectedDefaultStyles:[],customStyles:[],selectedCustomStyles:[],recording:!1,paused:!1,error:"",heading:"AudioScribe",audioID:-1,title:"",summary:"",transcript:"",tags:[],createdAt:"",currentFile:null,currentFileURL:null,inputLang:"English",outputLang:"English",words:"",outputSize:2,quickSelection:!1,disableRewrite:!1,applyVC:!1,audioSessions:[],loadingSessions:!1,sessionsCount:0,sessionsSelected:0,showTranscript:!1,showSettings:!1,showSessions:!1,tagView:!1,tagField:"",p2State:0,p2Status:"Uploading...",p2Error:!1}),actions:{setStyle(t){this.style=t},setSelectedDefaultStyles(t){this.selectedDefaultStyles=t},setCustomStyles(t){this.customStyles=t},setSelectedCustomStyles(t){this.selectedCustomStyles=t},setScribeState({style:t,selectedDefaultStyles:e,customStyles:o,selectedCustomStyles:s}){this.setStyle(t),this.setSelectedDefaultStyles(e),this.setCustomStyles(o),this.setSelectedCustomStyles(s)},setCustomStyle(t){this.setCustomStyles(t)},setRecording(t){this.recording=t},setPaused(t){this.paused=t},setError(t){this.error=t},setHeading(t){this.heading=t},setAudioID(t){this.audioID=t},setTitle(t){this.title=t},setSummary(t){this.summary=t},setTranscript(t){this.transcript=t},setTags(t){this.tags=t},setCreatedAt(t){this.createdAt=t},setCurrentFile(t){this.currentFile=t},setCurrentFileURL(t){this.currentFileURL=t},setInputLang(t){this.inputLang=t},setOutputLang(t){this.outputLang=t},setWords(t){this.words=t},setOutputSize(t){this.outputSize=t},setQuickSelection(t){this.quickSelection=t},setDisableRewrite(t){this.disableRewrite=t},setApplyVC(t){this.applyVC=t},setAudioSessions(t){this.audioSessions=t},setLoadingSessions(t){this.loadingSessions=t},setSessionsCount(t){this.sessionsCount=t},setSessionsSelected(t){this.sessionsSelected=t},setShowTranscript(t){this.showTranscript=t},setShowSettings(t){this.showSettings=t},setShowSessions(t){this.showSessions=t},setTagView(t){this.tagView=t},setTagField(t){this.tagField=t},setP2State(t){this.p2State=t},setP2Status(t){this.p2Status=t},setP2Error(t){this.p2Error=t},resetSession(){this.setRecording(!1),this.setPaused(!1),this.setError(""),this.setHeading("AudioScribe"),this.setAudioID(-1),this.setTitle(""),this.setSummary(""),this.setTranscript(""),this.setTags([]),this.setCreatedAt(""),this.setCurrentFile(null),this.setCurrentFileURL(null),this.setShowTranscript(!1),this.setShowSettings(!1),this.setShowSessions(!1),this.setTagView(!1),this.setTagField(""),this.setP2State(0),this.setP2Status("Uploading..."),this.setP2Error(!1)},setSessionData({audioID:t,title:e,summary:o,transcript:s,tags:m,createdAt:a}){t!==void 0&&this.setAudioID(t),e!==void 0&&this.setTitle(e),o!==void 0&&this.setSummary(o),s!==void 0&&this.setTranscript(s),m!==void 0&&this.setTags(m),a!==void 0&&this.setCreatedAt(a)}}}),ve=Ce("modals",{state:()=>({audioNote:!0}),actions:{setModal(t,e){this[t]=e}}}),xe=Ce("meta",{state:()=>({id:0,lastUpdate:1,isPro:!1,proLevel:0,expiry:0,uid:"-1",email:"loading",firstName:"",lastName:"",lang:11,dialect:"en-US",referralLink:"https://dictanote.co",changeCase:"df",showWordCount:!1,editorRTL:!1,idleTimeout:1,theme:"light",stripeKey:"XXX",maxNoteId:0,maxNotebookId:0}),actions:{updateProStatus({isPro:t,proLevel:e,expiry:o}){this.isPro=t,this.proLevel=e,this.expiry=o},setMeta(t){Object.keys(t).forEach(e=>{this[e]=t[e]})},updateLastUpdate(t){this.lastUpdate=t},updateTheme({theme:t}){this.theme=t,localStorage.theme=t},updateDialect(t){this.dialect=t,localStorage.dialect=t},updateChangeCase(t){this.changeCase=t,localStorage.changeCase=t},updateEditorRTL(t){this.editorRTL=t,localStorage.editorRTL=t},updateIdleTimeout(t){this.idleTimeout=t,localStorage.idleTimeout=t},updateShowWordCount(t){this.showWordCount=t,localStorage.showWordCount=t},setState({notebooks:t,notes:e,meta:o,local:s}){this.setMeta(o)}}}),kt=Ce("voiceCommands",{state:()=>({id:0,cmds:{},version:0,cmdsArr:[]})}),Ct={components:{X:Ee},props:{backdrop:{type:Boolean,default:!0},callback:{type:Function,default:null},cancelText:{type:String,default:"Close"},effect:{type:String,default:null},large:{type:Boolean,default:!1},okText:{type:String,default:"Save changes"},small:{type:Boolean,default:!1},title:{type:String,default:""},value:{type:Boolean,required:!0},width:{default:null}},data(){return{val:null}},computed:{optionalWidth(){return this.width===null?null:Number.isInteger(this.width)?this.width+"px":this.width}},watch:{val(t){this.$emit("input",t),t===!0?($(this.$el).modal("show"),this.$emit("opened")):t===!1&&(this.$emit("closed"),console.log("in val",t))},value(t,e){t!==e&&(this.val=t),console.log("in value",t,e)}},methods:{action(t,e){t!==null&&(t&&this.callback instanceof Function&&this.callback(),this.$emit(t?"ok":"cancel",e),this.val=t||!1)}},mounted(){this.val=this.value,$(this.$el).modal("show")},beforeUnmount(){console.log("in unmount"),$(this.$el).modal("hide"),$(this.$el).css("display","")}},wt={class:"modal-content"},Tt={class:"modal-header"},Ut={class:"modal-title"},_t={class:"modal-body"};function At(t,e,o,s,m,a){const c=D("X");return l(),d("div",{role:"dialog",class:q(["modal",o.effect]),onClick:e[2]||(e[2]=f=>o.backdrop&&a.action(!1,1))},[n("div",{class:q(["modal-dialog",{"modal-lg":o.large,"modal-sm":o.small}]),role:"document",style:Se({width:a.optionalWidth}),onClick:e[1]||(e[1]=ue(f=>a.action(null),["stop"]))},[n("div",wt,[de(t.$slots,"modal-header",{},()=>[n("div",Tt,[n("button",{type:"button",class:"btn-default close",onClick:e[0]||(e[0]=f=>a.action(!1,2))},[P(c,{size:20,"stroke-width":2.5})]),n("h3",Ut,[de(t.$slots,"title",{},()=>[F(z(o.title),1)])])])]),de(t.$slots,"modal-body",{},()=>[n("div",_t,[de(t.$slots,"default")])])])],6)],2)}const Dt=ee(Ct,[["render",At]]);function Lt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var et={exports:{}};(function(t){(function(e,o){t.exports?t.exports=o():window.ysFixWebmDuration=o()})("fix-webm-duration",function(){var e={172351395:{name:"EBML",type:"Container"},646:{name:"EBMLVersion",type:"Uint"},759:{name:"EBMLReadVersion",type:"Uint"},754:{name:"EBMLMaxIDLength",type:"Uint"},755:{name:"EBMLMaxSizeLength",type:"Uint"},642:{name:"DocType",type:"String"},647:{name:"DocTypeVersion",type:"Uint"},645:{name:"DocTypeReadVersion",type:"Uint"},108:{name:"Void",type:"Binary"},63:{name:"CRC-32",type:"Binary"},190023271:{name:"SignatureSlot",type:"Container"},16010:{name:"SignatureAlgo",type:"Uint"},16026:{name:"SignatureHash",type:"Uint"},16037:{name:"SignaturePublicKey",type:"Binary"},16053:{name:"Signature",type:"Binary"},15963:{name:"SignatureElements",type:"Container"},15995:{name:"SignatureElementList",type:"Container"},9522:{name:"SignedElement",type:"Binary"},139690087:{name:"Segment",type:"Container"},21863284:{name:"SeekHead",type:"Container"},3515:{name:"Seek",type:"Container"},5035:{name:"SeekID",type:"Binary"},5036:{name:"SeekPosition",type:"Uint"},88713574:{name:"Info",type:"Container"},13220:{name:"SegmentUID",type:"Binary"},13188:{name:"SegmentFilename",type:"String"},1882403:{name:"PrevUID",type:"Binary"},1868715:{name:"PrevFilename",type:"String"},2013475:{name:"NextUID",type:"Binary"},1999803:{name:"NextFilename",type:"String"},1092:{name:"SegmentFamily",type:"Binary"},10532:{name:"ChapterTranslate",type:"Container"},10748:{name:"ChapterTranslateEditionUID",type:"Uint"},10687:{name:"ChapterTranslateCodec",type:"Uint"},10661:{name:"ChapterTranslateID",type:"Binary"},710577:{name:"TimecodeScale",type:"Uint"},1161:{name:"Duration",type:"Float"},1121:{name:"DateUTC",type:"Date"},15273:{name:"Title",type:"String"},3456:{name:"MuxingApp",type:"String"},5953:{name:"WritingApp",type:"String"},103:{name:"Timecode",type:"Uint"},6228:{name:"SilentTracks",type:"Container"},6359:{name:"SilentTrackNumber",type:"Uint"},39:{name:"Position",type:"Uint"},43:{name:"PrevSize",type:"Uint"},35:{name:"SimpleBlock",type:"Binary"},32:{name:"BlockGroup",type:"Container"},33:{name:"Block",type:"Binary"},34:{name:"BlockVirtual",type:"Binary"},13729:{name:"BlockAdditions",type:"Container"},38:{name:"BlockMore",type:"Container"},110:{name:"BlockAddID",type:"Uint"},37:{name:"BlockAdditional",type:"Binary"},27:{name:"BlockDuration",type:"Uint"},122:{name:"ReferencePriority",type:"Uint"},123:{name:"ReferenceBlock",type:"Int"},125:{name:"ReferenceVirtual",type:"Int"},36:{name:"CodecState",type:"Binary"},13730:{name:"DiscardPadding",type:"Int"},14:{name:"Slices",type:"Container"},104:{name:"TimeSlice",type:"Container"},76:{name:"LaceNumber",type:"Uint"},77:{name:"FrameNumber",type:"Uint"},75:{name:"BlockAdditionID",type:"Uint"},78:{name:"Delay",type:"Uint"},79:{name:"SliceDuration",type:"Uint"},72:{name:"ReferenceFrame",type:"Container"},73:{name:"ReferenceOffset",type:"Uint"},74:{name:"ReferenceTimeCode",type:"Uint"},47:{name:"EncryptedBlock",type:"Binary"},106212971:{name:"Tracks",type:"Container"},46:{name:"TrackEntry",type:"Container"},87:{name:"TrackNumber",type:"Uint"},13253:{name:"TrackUID",type:"Uint"},3:{name:"TrackType",type:"Uint"},57:{name:"FlagEnabled",type:"Uint"},8:{name:"FlagDefault",type:"Uint"},5546:{name:"FlagForced",type:"Uint"},28:{name:"FlagLacing",type:"Uint"},11751:{name:"MinCache",type:"Uint"},11768:{name:"MaxCache",type:"Uint"},254851:{name:"DefaultDuration",type:"Uint"},216698:{name:"DefaultDecodedFieldDuration",type:"Uint"},209231:{name:"TrackTimecodeScale",type:"Float"},4991:{name:"TrackOffset",type:"Int"},5614:{name:"MaxBlockAdditionID",type:"Uint"},4974:{name:"Name",type:"String"},177564:{name:"Language",type:"String"},6:{name:"CodecID",type:"String"},9122:{name:"CodecPrivate",type:"Binary"},362120:{name:"CodecName",type:"String"},13382:{name:"AttachmentLink",type:"Uint"},1742487:{name:"CodecSettings",type:"String"},1785920:{name:"CodecInfoURL",type:"String"},438848:{name:"CodecDownloadURL",type:"String"},42:{name:"CodecDecodeAll",type:"Uint"},12203:{name:"TrackOverlay",type:"Uint"},5802:{name:"CodecDelay",type:"Uint"},5819:{name:"SeekPreRoll",type:"Uint"},9764:{name:"TrackTranslate",type:"Container"},9980:{name:"TrackTranslateEditionUID",type:"Uint"},9919:{name:"TrackTranslateCodec",type:"Uint"},9893:{name:"TrackTranslateTrackID",type:"Binary"},96:{name:"Video",type:"Container"},26:{name:"FlagInterlaced",type:"Uint"},5048:{name:"StereoMode",type:"Uint"},5056:{name:"AlphaMode",type:"Uint"},5049:{name:"OldStereoMode",type:"Uint"},48:{name:"PixelWidth",type:"Uint"},58:{name:"PixelHeight",type:"Uint"},5290:{name:"PixelCropBottom",type:"Uint"},5307:{name:"PixelCropTop",type:"Uint"},5324:{name:"PixelCropLeft",type:"Uint"},5341:{name:"PixelCropRight",type:"Uint"},5296:{name:"DisplayWidth",type:"Uint"},5306:{name:"DisplayHeight",type:"Uint"},5298:{name:"DisplayUnit",type:"Uint"},5299:{name:"AspectRatioType",type:"Uint"},963876:{name:"ColourSpace",type:"Binary"},1029411:{name:"GammaValue",type:"Float"},230371:{name:"FrameRate",type:"Float"},97:{name:"Audio",type:"Container"},53:{name:"SamplingFrequency",type:"Float"},14517:{name:"OutputSamplingFrequency",type:"Float"},31:{name:"Channels",type:"Uint"},15739:{name:"ChannelPositions",type:"Binary"},8804:{name:"BitDepth",type:"Uint"},98:{name:"TrackOperation",type:"Container"},99:{name:"TrackCombinePlanes",type:"Container"},100:{name:"TrackPlane",type:"Container"},101:{name:"TrackPlaneUID",type:"Uint"},102:{name:"TrackPlaneType",type:"Uint"},105:{name:"TrackJoinBlocks",type:"Container"},109:{name:"TrackJoinUID",type:"Uint"},64:{name:"TrickTrackUID",type:"Uint"},65:{name:"TrickTrackSegmentUID",type:"Binary"},70:{name:"TrickTrackFlag",type:"Uint"},71:{name:"TrickMasterTrackUID",type:"Uint"},68:{name:"TrickMasterTrackSegmentUID",type:"Binary"},11648:{name:"ContentEncodings",type:"Container"},8768:{name:"ContentEncoding",type:"Container"},4145:{name:"ContentEncodingOrder",type:"Uint"},4146:{name:"ContentEncodingScope",type:"Uint"},4147:{name:"ContentEncodingType",type:"Uint"},4148:{name:"ContentCompression",type:"Container"},596:{name:"ContentCompAlgo",type:"Uint"},597:{name:"ContentCompSettings",type:"Binary"},4149:{name:"ContentEncryption",type:"Container"},2017:{name:"ContentEncAlgo",type:"Uint"},2018:{name:"ContentEncKeyID",type:"Binary"},2019:{name:"ContentSignature",type:"Binary"},2020:{name:"ContentSigKeyID",type:"Binary"},2021:{name:"ContentSigAlgo",type:"Uint"},2022:{name:"ContentSigHashAlgo",type:"Uint"},206814059:{name:"Cues",type:"Container"},59:{name:"CuePoint",type:"Container"},51:{name:"CueTime",type:"Uint"},55:{name:"CueTrackPositions",type:"Container"},119:{name:"CueTrack",type:"Uint"},113:{name:"CueClusterPosition",type:"Uint"},112:{name:"CueRelativePosition",type:"Uint"},50:{name:"CueDuration",type:"Uint"},4984:{name:"CueBlockNumber",type:"Uint"},106:{name:"CueCodecState",type:"Uint"},91:{name:"CueReference",type:"Container"},22:{name:"CueRefTime",type:"Uint"},23:{name:"CueRefCluster",type:"Uint"},4959:{name:"CueRefNumber",type:"Uint"},107:{name:"CueRefCodecState",type:"Uint"},155296873:{name:"Attachments",type:"Container"},8615:{name:"AttachedFile",type:"Container"},1662:{name:"FileDescription",type:"String"},1646:{name:"FileName",type:"String"},1632:{name:"FileMimeType",type:"String"},1628:{name:"FileData",type:"Binary"},1710:{name:"FileUID",type:"Uint"},1653:{name:"FileReferral",type:"Binary"},1633:{name:"FileUsedStartTime",type:"Uint"},1634:{name:"FileUsedEndTime",type:"Uint"},4433776:{name:"Chapters",type:"Container"},1465:{name:"EditionEntry",type:"Container"},1468:{name:"EditionUID",type:"Uint"},1469:{name:"EditionFlagHidden",type:"Uint"},1499:{name:"EditionFlagDefault",type:"Uint"},1501:{name:"EditionFlagOrdered",type:"Uint"},54:{name:"ChapterAtom",type:"Container"},13252:{name:"ChapterUID",type:"Uint"},5716:{name:"ChapterStringUID",type:"String"},17:{name:"ChapterTimeStart",type:"Uint"},18:{name:"ChapterTimeEnd",type:"Uint"},24:{name:"ChapterFlagHidden",type:"Uint"},1432:{name:"ChapterFlagEnabled",type:"Uint"},11879:{name:"ChapterSegmentUID",type:"Binary"},11964:{name:"ChapterSegmentEditionUID",type:"Uint"},9155:{name:"ChapterPhysicalEquiv",type:"Uint"},15:{name:"ChapterTrack",type:"Container"},9:{name:"ChapterTrackNumber",type:"Uint"},0:{name:"ChapterDisplay",type:"Container"},5:{name:"ChapString",type:"String"},892:{name:"ChapLanguage",type:"String"},894:{name:"ChapCountry",type:"String"},10564:{name:"ChapProcess",type:"Container"},10581:{name:"ChapProcessCodecID",type:"Uint"},1293:{name:"ChapProcessPrivate",type:"Binary"},10513:{name:"ChapProcessCommand",type:"Container"},10530:{name:"ChapProcessTime",type:"Uint"},10547:{name:"ChapProcessData",type:"Binary"},39109479:{name:"Tags",type:"Container"},13171:{name:"Tag",type:"Container"},9152:{name:"Targets",type:"Container"},10442:{name:"TargetTypeValue",type:"Uint"},9162:{name:"TargetType",type:"String"},9157:{name:"TagTrackUID",type:"Uint"},9161:{name:"TagEditionUID",type:"Uint"},9156:{name:"TagChapterUID",type:"Uint"},9158:{name:"TagAttachmentUID",type:"Uint"},10184:{name:"SimpleTag",type:"Container"},1443:{name:"TagName",type:"String"},1146:{name:"TagLanguage",type:"String"},1156:{name:"TagDefault",type:"Uint"},1159:{name:"TagString",type:"String"},1157:{name:"TagBinary",type:"Binary"}};function o(i,p){i.prototype=Object.create(p.prototype),i.prototype.constructor=i}function s(i,p){this.name=i||"Unknown",this.type=p||"Unknown"}s.prototype.updateBySource=function(){},s.prototype.setSource=function(i){this.source=i,this.updateBySource()},s.prototype.updateByData=function(){},s.prototype.setData=function(i){this.data=i,this.updateByData()};function m(i,p){s.call(this,i,p||"Uint")}o(m,s);function a(i){return i.length%2===1?"0"+i:i}m.prototype.updateBySource=function(){this.data="";for(var i=0;i<this.source.length;i++){var p=this.source[i].toString(16);this.data+=a(p)}},m.prototype.updateByData=function(){var i=this.data.length/2;this.source=new Uint8Array(i);for(var p=0;p<i;p++){var h=this.data.substr(p*2,2);this.source[p]=parseInt(h,16)}},m.prototype.getValue=function(){return parseInt(this.data,16)},m.prototype.setValue=function(i){this.setData(a(i.toString(16)))};function c(i,p){s.call(this,i,p||"Float")}o(c,s),c.prototype.getFloatArrayType=function(){return this.source&&this.source.length===4?Float32Array:Float64Array},c.prototype.updateBySource=function(){var i=this.source.reverse(),p=this.getFloatArrayType(),h=new p(i.buffer);this.data=h[0]},c.prototype.updateByData=function(){var i=this.getFloatArrayType(),p=new i([this.data]),h=new Uint8Array(p.buffer);this.source=h.reverse()},c.prototype.getValue=function(){return this.data},c.prototype.setValue=function(i){this.setData(i)};function f(i,p){s.call(this,i,p||"Container")}o(f,s),f.prototype.readByte=function(){return this.source[this.offset++]},f.prototype.readUint=function(){for(var i=this.readByte(),p=8-i.toString(2).length,h=i-(1<<7-p),L=0;L<p;L++)h*=256,h+=this.readByte();return h},f.prototype.updateBySource=function(){for(this.data=[],this.offset=0;this.offset<this.source.length;this.offset=h){var i=this.readUint(),p=this.readUint(),h=Math.min(this.offset+p,this.source.length),L=this.source.slice(this.offset,h),b=e[i]||{name:"Unknown",type:"Unknown"},C=s;switch(b.type){case"Container":C=f;break;case"Uint":C=m;break;case"Float":C=c;break}var w=new C(b.name,b.type);w.setSource(L),this.data.push({id:i,idHex:i.toString(16),data:w})}},f.prototype.writeUint=function(i,p){for(var h=1,L=128;i>=L&&h<8;h++,L*=128);if(!p)for(var b=L+i,C=h-1;C>=0;C--){var w=b%256;this.source[this.offset+C]=w,b=(b-w)/256}this.offset+=h},f.prototype.writeSections=function(i){this.offset=0;for(var p=0;p<this.data.length;p++){var h=this.data[p],L=h.data.source,b=L.length;this.writeUint(h.id,i),this.writeUint(b,i),i||this.source.set(L,this.offset),this.offset+=b}return this.offset},f.prototype.updateByData=function(){var i=this.writeSections("draft");this.source=new Uint8Array(i),this.writeSections()},f.prototype.getSectionById=function(i){for(var p=0;p<this.data.length;p++){var h=this.data[p];if(h.id===i)return h.data}return null};function r(i){f.call(this,"File","File"),this.setSource(i)}o(r,f),r.prototype.fixDuration=function(i,p){var h=p&&p.logger;h===void 0?h=function(g){console.log(g)}:h||(h=function(){});var L=this.getSectionById(139690087);if(!L)return h("[fix-webm-duration] Segment section is missing"),!1;var b=L.getSectionById(88713574);if(!b)return h("[fix-webm-duration] Info section is missing"),!1;var C=b.getSectionById(710577);if(!C)return h("[fix-webm-duration] TimecodeScale section is missing"),!1;var w=b.getSectionById(1161);if(w)if(w.getValue()<=0)h(`[fix-webm-duration] Duration section is present, but the value is ${w.getValue()}`),w.setValue(i);else return h(`[fix-webm-duration] Duration section is present, and the value is ${w.getValue()}`),!1;else h("[fix-webm-duration] Duration section is missing"),w=new c("Duration","Float"),w.setValue(i),b.data.push({id:1161,data:w});return C.setValue(1e6),b.updateByData(),L.updateByData(),this.updateByData(),!0},r.prototype.toBlob=function(i){return new Blob([this.source.buffer],{type:i||"video/webm"})};function u(i,p,h,L){if(typeof h=="object"&&(L=h,h=void 0),!h)return new Promise(function(C){u(i,p,C,L)});try{var b=new FileReader;b.onloadend=function(){try{var C=new r(new Uint8Array(b.result));C.fixDuration(p,L)&&(i=C.toBlob(i.type))}catch{}h(i)},b.readAsArrayBuffer(i)}catch{h(i)}}return u.default=u,u})})(et);var Mt=et.exports;const Pt=Lt(Mt),Te=t=>{try{const e=JSON.parse(t);if(e)return e}catch{}return null},Ne=t=>{const e=Math.floor(t%3600/60),o=t%60,s=("0"+e).slice(-2),m=("0"+o).slice(-2);return`${s}:${m}`},be=t=>t.replace(/\n/g,"<br>"),Et=t=>t.length>200?t.slice(0,197)+" ...":t,Ue=(t,e,o)=>{let s=t;try{const m=JSON.parse(o);m&&m.message&&(s+=` ${m.message}`)}catch{s+=` ${o}`}return s},Oe=(t,e,o)=>{let s=t;return o&&(s=s.replaceAll("<newline>",`
`)),s},pe=t=>{const e=t;e&&(e.style.height="auto",e.style.height=`${16+e.scrollHeight}px`)},Bt=()=>{const t=new Date,e={month:"short",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0};return t.toLocaleTimeString("en-US",e)},_e="audio/webm",Ve="audio/mp4",we=["Auto Detect","Afrikaans","Arabic","Armenian","Azerbaijani","Belarusian","Bosnian","Bulgarian","Catalan","Chinese","Croatian","Czech","Danish","Dutch","English","Estonian","Finnish","French","Galician","German","Greek","Hebrew","Hindi","Hungarian","Icelandic","Indonesian","Italian","Japanese","Kannada","Kazakh","Korean","Latvian","Lithuanian","Macedonian","Malay","Marathi","Maori","Nepali","Norwegian","Persian","Polish","Portuguese","Romanian","Russian","Serbian","Slovak","Slovenian","Spanish","Swahili","Swedish","Tagalog","Tamil","Thai","Turkish","Ukrainian","Urdu","Vietnamese","Welsh"];let Q,he,fe,re=[],$e=!1;function Ft(t){const e=te(),o=Y(Date.now()),s=Y(0),m=U(()=>e.recording),a=U(()=>e.paused),c=U(()=>e.heading),f=()=>{const b=document.getElementById("visualizer");if(!b)return;const C=b.getElementsByTagName("path"),w=b.getElementById("mask");if(C.length===0)for(let k=0;k<255;k+=1){const V=document.createElementNS("http://www.w3.org/2000/svg","path");V.setAttribute("stroke-dasharray","4,1"),w.appendChild(V)}(k=>{window.persistAudioStream=k;const V=new AudioContext,Z=V.createMediaStreamSource(k),v=V.createAnalyser();Z.connect(v),v.fftSize=1024;const y=255,S=new Uint8Array(v.frequencyBinCount);b.setAttribute("viewBox","0 0 255 255");const x=()=>{v.getByteFrequencyData(S);let T;for(let _=0;_<y;_+=1)T=Math.floor(S[_])-Math.floor(S[_])%5,a.value&&(T=0),C[_].setAttribute("d",`M ${_},255 l 0,-${T}`);m.value&&requestAnimationFrame(x)};x()})(fe)},r=()=>{a.value?(Q.resume(),e.setPaused(!1),o.value=Date.now()):(Q.pause(),e.setPaused(!0),s.value+=Date.now()-o.value)},u=()=>{console.log("stopRecording"),clearInterval(he);let b=s.value;return a.value||(b+=Date.now()-o.value),s.value=b,Q.stop(),fe.getTracks().forEach(C=>C.stop()),e.setRecording(!1),e.setHeading("AudioScribe"),I.mpTrack("AS Session",{duration:b,inputLang:e.inputLang,outputLang:e.outputLang}),b};return{heading:c,timeDuration:s,startVisualization:f,togglePause:r,stopRecording:u,cancel:()=>{clearInterval(he),e.setRecording(!1),Q.ondataavailable=null,Q.onstop=null,Q.stop(),re=[],fe.getTracks().forEach(b=>b.stop()),e.setHeading("AudioScribe"),I.mpTrack("AS Cancel")},restart:b=>{clearInterval(he),e.setPaused(!1),Q.onstop=null,Q.ondataavailable=null,Q.stop(),re=[],b()},startRecording:b=>{const C=t.value?1800:180;o.value=Date.now(),s.value=0;const w={audioBitsPerSecond:16e3};I.isSafari()&&(MediaRecorder.isTypeSupported(_e)?w.mimeType=_e:w.mimeType=Ve),Q=new MediaRecorder(fe,w),e.setRecording(!0),Q.ondataavailable=g=>{re.push(g.data)},Q.onstop=async()=>{console.log("onstop");const g=s.value,k=MediaRecorder.isTypeSupported(_e)?"webm":"mp4",V=`audio/${k}`,Z=new Blob(re,{type:V});let v=Z;k==="webm"&&(v=await Pt(Z,g,{logger:!1}));const y=`recording.${k}`;v=new File([v],y,{type:V}),e.setCurrentFile(v),re.length>0&&re[0].type===Ve&&($e=!1),re=[],b&&b(v,$e,!1)},Q.start(),e.setHeading(Ne(C)),clearInterval(he),he=setInterval(()=>{if(!m.value)return;let g=s.value;a.value||(g+=Date.now()-o.value),g=Math.floor(g/1e3);const k=C-g;e.setHeading(Ne(k)),k===0&&u()},1e3)},record:b=>{e.setShowSettings(!1),e.setShowSessions(!1),navigator.mediaDevices&&navigator.mediaDevices.getUserMedia&&navigator.mediaDevices.getUserMedia({audio:!0}).then(C=>{fe=C,o.value=Date.now(),s.value=0,e.setPaused(!1),I.mpTrack("AS MicStart"),b&&b()})}}}const H="https://dictanote.co",Rt=!0;let Be="";function zt(){requestAnimationFrame(()=>{$("#audio-note-modal").modal("show")}),chrome.tabs.query({active:!0,lastFocusedWindow:!0},t=>{t.length>0&&chrome.tabs.sendMessage(t[0].id,{action:"close_audio_scribe"})})}async function It(){const t=xe(),e=await Ot(`${H}/users/get-token/`,{method:"POST",credentials:"include"});if(e.type==="error"){console.log("error",e.message);return}const o={uid:e.uid,email:e.email,firstName:e.firstName,lastName:e.lastName,isPro:e.isPro,proLevel:e.proLevel,expiry:e.expiry,lastUpdate:Date.now()};t.setMeta(o),Be=e.token}function Nt(t){chrome.runtime.onMessage.addListener(e=>{e.action==="user_update"&&(Be||t())})}const K=(t,e={})=>(e=e||{},e.headers=e.headers||{},e.headers.Authorization=`Bearer ${Be}`,fetch(t,e).then(o=>o.ok?o.json():o.text().then(s=>{throw new Error(s||`HTTP ${o.status}`)})));function Ot(t,e){return new Promise((o,s)=>{chrome.runtime.sendMessage({message_id:"fetch_data",url:t,args:e},m=>{m.success?o(m.data):s(m.error)})})}async function Vt(){var t,e;try{const s=(t=chrome.runtime.getManifest().commands)==null?void 0:t.audio_scribe;return((e=s==null?void 0:s.suggested_key)==null?void 0:e.default)||"Alt+Shift+A"}catch(o){return console.error("Error getting keyboard shortcut:",o),"Alt+Shift+A"}}function ye(t,e){return o=>{window.open(`${H}/audioscribe/pro/`,"_blank","noopener"),o&&e("VI Click AS Upgrade",{source:o})}}let oe,ae=[];function ke(){const t=te(),e=kt(),o=U(()=>t.p2State),s=U(()=>t.p2Status),m=U(()=>t.p2Error),a=v=>{t.setError(v),I.log("JSError",`AudioScribe: ${v}`,"",!0,!0)},c=(v,y=!1)=>{if(v.type!=="success")return;const S=Array.isArray(v.sessions)?v.sessions:[],x=y?t.audioSessions.concat(S):S;t.setAudioSessions(x),typeof v.count=="number"&&t.setSessionsCount(v.count),t.setSessionsNextCursor(v.nextCursor||null),t.setHasMoreSessions(!!v.hasMore)},f=(v,y,S,x,T,_)=>{console.log("uploadBlob",v,y,S,x,T,_),t.setP2State(0),t.setP2Status("Uploading..."),console.log("p2State 1",o.value,s.value),t.setP2Error(!1);const E=new FormData;E.append("file",v),E.append("inputLang",t.inputLang),E.append("outputLang",t.outputLang),E.append("style",T||t.style),E.append("words",t.words),E.append("outputSize5",t.outputSize),y&&E.append("convert","true"),E.append("uploaded",S),S||E.append("duration",x);const N="Error uploading audio. Please try again. Error:",M=R=>{if(R.category==="upgrade")t.resetSession(),t.setError(R.message),setTimeout(()=>{t.setError(""),_&&_.onUpgrade&&_.onUpgrade("note-limit")},4e3);else{const W=`${N} ${R.message}`;t.setP2Error(!0),ae=[v,y,T],a(W)}};oe=new AbortController;const{signal:A}=oe;K(`${H}/audio/upload/`,{method:"POST",body:E,cache:"no-cache",signal:A,credentials:"include"}).then(R=>{R.type==="error"?M(R):(t.setP2Error(!1),t.setError(""),t.setAudioID(R.audioID),_&&_.onUploadSuccess&&_.onUploadSuccess(R.audioID))}).catch(R=>{if(R.name==="AbortError"){t.resetSession();return}const W=Ue(N,R.response,R.message);t.setP2Error(!0),ae=[v,y,T],a(W)})},r=(v,y)=>{t.setP2State(1),t.setP2Status("Transcribing..."),console.log("p2State 2",o.value,s.value);const S=new FormData;S.append("audioID",v),t.disableRewrite&&(S.append("disableRewrite",t.disableRewrite),S.append("title",Bt()));const x="Error transcribing audio. Please try again. Error:";oe=new AbortController;const{signal:T}=oe;K(`${H}/audio/transcribe/`,{method:"POST",body:S,cache:"no-cache",signal:T}).then(_=>{if(_.type==="error"){const E=`${x} ${_.message}`;t.setP2Error(!0),ae=[v],a(E)}else if(t.setP2Error(!1),t.setError(""),t.setTranscript(_.transcript),t.disableRewrite){t.setTitle("");const E=Oe(_.transcript,e.cmdsArr,t.applyVC);t.setSummary(E),t.setTags(_.tags),t.setCreatedAt(_.createdAt),y&&y.onTranscribeSuccess&&y.onTranscribeSuccess()}else y&&y.onRewriteStart&&y.onRewriteStart(_.audioID)}).catch(_=>{if(_.name==="AbortError"){t.resetSession();return}const E=Ue(x,_.response,_.message);t.setP2Error(!0),ae=[v],a(E)})},u=(v,y,S)=>{t.setP2State(2),t.setP2Status("Rewriting..."),console.log("p2State 3",o.value,s.value);const x=new FormData;x.append("audioID",v),y&&(x.append("rewrite",!0),x.append("inputLang",t.inputLang),x.append("outputLang",t.outputLang),x.append("style",t.style),x.append("words",t.words),x.append("outputSize5",t.outputSize));let T=`${H}/audio/scribe/`;y!==void 0&&(T=`${H}/audio/rewrite/`);const _="Error rewriting audio. Please try again. Error:";oe=new AbortController;const{signal:E}=oe;K(T,{method:"POST",body:x,credentials:"include",signal:E}).then(N=>{if(N.type==="error"){const M=`${_} ${N.message}`;t.setP2Error(!0),ae=[v,y],a(M)}else{t.setP2Error(!1),t.setError(""),t.setTitle(N.title);const M=Oe(N.summary,e.cmdsArr,t.applyVC);t.setSummary(M),t.setTags(N.tags),t.setCreatedAt(N.createdAt),S&&S()}}).catch(N=>{if(N.name==="AbortError"){t.resetSession();return}const M=Ue(_,N.response,N.message);t.setP2Error(!0),ae=[v,y],a(M)})},i=v=>{t.setLoadingSessions(!0),K(`${H}/audio/v2/sessions/`,{credentials:"include"}).then(y=>{t.setLoadingSessions(!1),c(y,!1),y.type==="success"&&v&&v()}).catch(y=>{t.setLoadingSessions(!1),I.log("JSError",`AudioScribe: ${y.message}`,"",!0,!0)})},p=()=>{t.loadingSessions||!t.hasMoreSessions||!t.sessionsNextCursor||(t.setLoadingSessions(!0),K(`${H}/audio/v2/sessions/?cursor=${t.sessionsNextCursor}`,{credentials:"include"}).then(v=>{t.setLoadingSessions(!1),c(v,!0)}).catch(v=>{t.setLoadingSessions(!1),I.log("JSError",`AudioScribe: ${v.message}`,"",!0,!0)}))};return{p2State:o,p2Status:s,p2Error:m,uploadBlob:f,transcribeAudio:r,rewriteAudio:u,loadSessions:i,loadMoreSessions:p,openSession:(v,y)=>{t.setLoadingSessions(!0),K(`${H}/audio/sessions/${v}/`,{credentials:"include"}).then(S=>{if(t.setLoadingSessions(!1),S.type==="success"){const{session:x}=S;t.setAudioID(v),t.setTitle(x.title||"No Title"),t.setSummary(x.summary||"Text Missing"),t.setTranscript(x.transcript||"Text Missing"),t.setTags(x.tags||[]),t.setCurrentFile(null),t.setCurrentFileURL(x.fileURL),y&&y()}}).catch(S=>{t.setLoadingSessions(!1),I.log("JSError",`AudioScribe: ${S.message}`,"",!0,!0)})},deleteSession:(v,y)=>{const S=new FormData;S.append("ids[]",v),K(`${H}/audio/sessions/delete/`,{method:"POST",body:S,credentials:"include"}).then(x=>{x.type==="success"&&y&&y()}).catch(x=>{I.log("JSError",`AudioScribe: ${x.message}`,"",!0,!0)})},deleteSessions:v=>{if(v.length===0)return;const y=new FormData;v.forEach(S=>{y.append("ids[]",S)}),t.setLoadingSessions(!0),K(`${H}/audio/sessions/delete/`,{method:"POST",body:y,credentials:"include"}).then(S=>{if(t.setLoadingSessions(!1),S.type==="success"){const x=t.audioSessions.filter(E=>v.includes(E.id)).length,T=t.audioSessions.filter(E=>!v.includes(E.id));t.setAudioSessions(T),t.setSessionsCount(Math.max(0,t.sessionsCount-x));const _=T.filter(E=>E.selected).length;t.setSessionsSelected(_),T.length===0&&t.hasMoreSessions&&t.sessionsNextCursor&&p()}}).catch(S=>{t.setLoadingSessions(!1),I.log("JSError",`AudioScribe: ${S.message}`,"",!0,!0)})},updateField:(v,y,S)=>{const x=new FormData;x.append(y,S),K(`${H}/audio/sessions/${v}/update/`,{method:"POST",body:x,credentials:"include"}).then(T=>{T.type}).catch(T=>{I.log("JSError",`AudioScribe update failed: ${T.message}`,"",!0,!0)})},addTag:(v,y,S)=>{if(!y)return;const x=new FormData;x.append("action","add"),x.append("tag",y.trim()),K(`${H}/audio/sessions/${v}/modify_tags/`,{method:"POST",body:x,cache:"no-cache"}).then(T=>{if(T.type==="success"){const _=T.tags.split("|").filter(E=>E!=="");S&&S(_)}}).catch(T=>{I.log("JSError",`AudioScribe: ${T.message}`,"",!0,!0)})},removeTag:(v,y,S)=>{const x=new FormData;x.append("action","remove"),x.append("tag",y),K(`${H}/audio/sessions/${v}/modify_tags/`,{method:"POST",body:x,cache:"no-cache"}).then(T=>{if(T.type==="success"){const _=T.tags.split("|").filter(E=>E!=="");S&&S(_)}}).catch(T=>{I.log("JSError",`AudioScribe: ${T.message}`,"",!0,!0)})},sendWebhook:(v,y)=>{K(`${H}/audio/sessions/${v}/webhook/`,{method:"POST"}).then(S=>{S.type==="success"||S.type==="error"&&S.msg==="No webhook found"&&y&&y('ERROR: No webhook configured. <a href="https://support.dictanote.co/hc/en-us/articles/24867682385805-How-to-configure-a-webhook-for-Audio-Scribe" target="_blank">Configure webhook now â†’</a>')}).catch(S=>{I.log("JSError",`AudioScribe: ${S.message}`,"",!0,!0)})},cancelProcessing:()=>{oe&&(oe.abort(),oe=null,t.resetSession(),setTimeout(()=>{},1e3))},retryStep:()=>{o.value===0?f(...ae):o.value===1?r(...ae):o.value===2?u(...ae):(t.resetSession(),a(`Unknown state ${o.value}`))}}}const $t={name:"SessionsList",components:{Trash2:Me,CheckCircle2:Xe,Circle:mt},emits:["open-session"],setup(t,{emit:e}){const o=te(),s=ke(),m=U(()=>o.audioSessions),a=U(()=>o.loadingSessions),c=U(()=>o.sessionsSelected),f=U(()=>o.hasMoreSessions),r=C=>I.naturaltime(C),u=()=>{const C=m.value.filter(w=>w.selected).length;o.setSessionsSelected(C)};return{audioSessions:m,loadingSessions:a,sessionsSelected:c,hasMoreSessions:f,natural:r,truncateSummary:Et,handleSelectSession:C=>{const w=m.value.map(g=>g.id===C?{...g,selected:!g.selected}:g);o.setAudioSessions(w),u()},handleSelectAll:()=>{const C=m.value.map(w=>({...w,selected:!0}));o.setAudioSessions(C),u()},handleDeleteSessions:()=>{const C=m.value.filter(w=>w.selected).map(w=>w.id);s.deleteSessions(C)},handleOpenSession:C=>{s.openSession(C,()=>{e("open-session")})},handleLoadMore:()=>{s.loadMoreSessions()}}}},jt={class:"mt-3 text-left",id:"as-notes"},Wt={class:"row"},Ht={class:"col-12 mt-3 flex-center"},qt=["disabled"],Jt=["disabled"],Gt={class:"row"},Kt={key:0,class:"col-md-12 mt-3 text-center"},Xt={class:"card-body d-flex flex-column"},Qt=["onClick"],Yt=["onClick"],Zt={key:0,class:"tags"},es={class:"d-flex justify-content-between align-items-center",style:{"margin-top":"auto"}},ts={class:"card-text card-date small gray"},ss=["onClick"],ns=["onClick"],os={key:1,class:"col-12 mt-3 flex-center"},as=["disabled"];function is(t,e,o,s,m,a){const c=D("Trash2"),f=D("CheckCircle2"),r=D("Circle");return l(),d("div",jt,[n("div",Wt,[n("div",Ht,[e[4]||(e[4]=n("h2",{class:"as-title"},"Past Notes",-1)),s.sessionsSelected>0?(l(),d("button",{key:0,class:"btn btn-info btn-sm ml-3",onClick:e[0]||(e[0]=(...u)=>s.handleSelectAll&&s.handleSelectAll(...u)),disabled:s.loadingSessions}," Select All ",8,qt)):B("",!0),s.sessionsSelected>0?(l(),d("button",{key:1,class:"btn btn-danger btn-sm ml-3",onClick:e[1]||(e[1]=(...u)=>s.handleDeleteSessions&&s.handleDeleteSessions(...u)),disabled:s.loadingSessions},[P(c,{size:16}),e[3]||(e[3]=F(" Delete ",-1))],8,Jt)):B("",!0)])]),n("div",Gt,[s.audioSessions.length===0&&!s.loadingSessions&&!s.hasMoreSessions?(l(),d("div",Kt," You have no audio notes yet. ")):B("",!0),(l(!0),d(G,null,X(s.audioSessions,u=>(l(),d("div",{class:"col-md-6 mt-3",key:u.id},[n("div",{class:q(["card",{selected:u.selected}])},[n("div",Xt,[n("h5",{class:"card-title cursor-pointer",onClick:i=>s.handleOpenSession(u.id)},z(u.title||"No Title"),9,Qt),n("p",{class:"card-text small cursor-pointer",onClick:i=>s.handleOpenSession(u.id)},z(s.truncateSummary(u.summary)||"Text Missing"),9,Yt),u.tags.length>0?(l(),d("div",Zt,[(l(!0),d(G,null,X(u.tags,(i,p)=>(l(),d("button",{class:q(["btn btn-secondary tag btn-sm",{"ml-1":p!==0}]),key:p},z(i),3))),128))])):B("",!0),n("div",es,[n("p",ts,z(s.natural(u.createdAt)),1),u.selected?(l(),d("a",{key:0,class:"card-sel",onClick:ue(i=>s.handleSelectSession(u.id),["stop","prevent"])},[P(f,{size:18})],8,ss)):(l(),d("a",{key:1,href:"#",class:"card-sel gray",onClick:ue(i=>s.handleSelectSession(u.id),["stop","prevent"])},[P(r,{size:18})],8,ns))])])],2)]))),128)),s.hasMoreSessions?(l(),d("div",os,[n("button",{class:"btn btn-success btn-sm",onClick:e[2]||(e[2]=(...u)=>s.handleLoadMore&&s.handleLoadMore(...u)),disabled:s.loadingSessions}," Load More ",8,as)])):B("",!0)])])}const rs=ee($t,[["render",is]]),je="#75c791",ls="#bfcbd9",cs="on",ds="off",Ae="#fff",We=3,le=(t,e)=>typeof t=="object"&&t.hasOwnProperty(e),ie=t=>t+"px",us={name:"ToggleButton",emits:["update:modelValue","change"],props:{modelValue:{type:Boolean,default:!1},name:{type:String},disabled:{type:Boolean,default:!1},sync:{type:Boolean,default:!1},speed:{type:Number,default:300},color:{type:[String,Object],validator(t){return typeof t=="object"?t.checked||t.unchecked||t.disabled:typeof t=="string"}},switchColor:{type:[String,Object],validator(t){return typeof t=="object"?t.checked||t.unchecked:typeof t=="string"}},cssColors:{type:Boolean,default:!1},labels:{type:[Boolean,Object],default:!1,validator(t){return typeof t=="object"?t.checked||t.unchecked:typeof t=="boolean"}},height:{type:Number,default:22},width:{type:Number,default:50},fontSize:{type:Number}},computed:{className(){let{toggled:t,disabled:e}=this;return["vue-js-switch",{toggled:t,disabled:e}]},coreStyle(){return{width:ie(this.width),height:ie(this.height),backgroundColor:this.cssColors?null:this.disabled?this.colorDisabled:this.colorCurrent,borderRadius:ie(Math.round(this.height/2))}},buttonRadius(){return this.height-We*2},distance(){return ie(this.width-this.height+We)},buttonStyle(){const t=`transform ${this.speed}ms`,e=this.toggled?`translate3d(${this.distance}, 3px, 0px)`:null,o=this.switchColor?this.switchColorCurrent:null;return{width:ie(this.buttonRadius),height:ie(this.buttonRadius),transition:t,transform:e,background:o}},labelStyle(){return{lineHeight:ie(this.height),fontSize:this.fontSize?ie(this.fontSize):null}},colorChecked(){let{color:t}=this;return typeof t!="object"?t||je:le(t,"checked")?t.checked:je},colorUnchecked(){let{color:t}=this;return le(t,"unchecked")?t.unchecked:ls},colorDisabled(){let{color:t}=this;return le(t,"disabled")?t.disabled:this.colorCurrent},colorCurrent(){return this.toggled?this.colorChecked:this.colorUnchecked},labelChecked(){const{labels:t}=this;return le(t,"checked")?t.checked:cs},labelUnchecked(){const{labels:t}=this;return le(t,"unchecked")?t.unchecked:ds},switchColorChecked(){const{switchColor:t}=this;return le(t,"checked")?t.checked:Ae},switchColorUnchecked(){const{switchColor:t}=this;return le(t,"unchecked")?t.unchecked:Ae},switchColorCurrent(){let{switchColor:t}=this;return typeof t!="object"?t||Ae:this.toggled?this.switchColorChecked:this.switchColorUnchecked}},watch:{modelValue(t){this.sync&&(this.toggled=!!t)}},data(){return{toggled:!!this.modelValue}},methods:{toggle(t){this.toggled=!this.toggled,this.$emit("update:modelValue",this.toggled),this.$emit("change",{value:this.toggled,srcEvent:t})}}},ms=["name","checked"];function ps(t,e,o,s,m,a){return l(),d("label",{class:q(a.className)},[n("input",{type:"checkbox",class:"v-switch-input",name:o.name,checked:o.modelValue,onChange:e[0]||(e[0]=ue((...c)=>a.toggle&&a.toggle(...c),["stop"]))},null,40,ms),n("div",{class:"v-switch-core",style:Se(a.coreStyle)},[n("div",{class:"v-switch-button",style:Se(a.buttonStyle)},null,4)],4),o.labels?(l(),d(G,{key:0},[m.toggled?(l(),d("span",{key:0,class:"v-switch-label v-left",style:Se(a.labelStyle)},[de(t.$slots,"checked",{},()=>[n("div",null,z(a.labelChecked),1)])],4)):(l(),d("span",{key:1,class:"v-switch-label v-right",style:Se(a.labelStyle)},[de(t.$slots,"unchecked",{},()=>[n("div",null,z(a.labelUnchecked),1)])],4))],64)):B("",!0)],2)}const ys=ee(us,[["render",ps]]),Le=[{t:"Casual Memo",d:"Write in a clear, slightly formal, and witty style. Don't use very complex language or sentence structure."},{t:"Simple & Clear",d:"Friendly, flowing, simple sentences. Use simple words. Prioritize clarity above all else."},{t:"List",d:"Create a bulleted list. Use short sentences."},{t:"Business Memo",d:"Maintain a tone that is professional, clear, and concise. Use passive voice and avoid contractions or colloquial language."},{t:"Formal Email",d:"Write in the style of a formal email with a clear and concise message. Maintain a level of professionalism and respect."},{t:"ðŸŒŸ Write like me ðŸŒŸ",d:`Write in a style similar to the following text:
{replace this text with a few paragraphs of your own writing}`},{t:"Descriptive",d:"Create vivid images for the reader using sensory language, metaphors, similes, and other figures of speech."},{t:"Legal",d:"Write in a legal style. Use highly formal language that is precise, includes complex sentences, and legal terminology."},{t:"Poetic",d:"Use rhythmic and aesthetic features of languageâ€”such as phonaesthetics, sound symbolism, and metreâ€”to evoke meanings in addition to the ostensible meaning."},{t:"Humorous",d:"Make the text light-hearted and entertaining, incorporating puns, irony, satire, or self-deprecating humor."}],gs={name:"writingStyle",components:{Star:bt,RefreshCw:ht,Trash2:Me},emits:["back"],setup(){const t=te(),e=xe(),o=ve();return{scribeStore:t,metaStore:e,modalsStore:o}},data(){return{styleSaveOptions:!1,styleName:"",isSyncing:!1}},computed:{isPro(){const{expiry:t,lastUpdate:e,proLevel:o}=this.metaStore;return o>1&&t>e},style:{get(){return this.scribeStore.style},set(t){this.scribeStore.setStyle(t)}},defaultStyles(){return Le},selectedDefaultStyles:{get(){return this.scribeStore.selectedDefaultStyles},set(t){this.scribeStore.setSelectedDefaultStyles(t)}},customStyles:{get(){return this.scribeStore.customStyles},set(t){this.scribeStore.setCustomStyles(t)}},selectedCustomStyles:{get(){return this.scribeStore.selectedCustomStyles},set(t){this.scribeStore.setSelectedCustomStyles(t)}},styleSelection(){return Le.filter(t=>this.selectedDefaultStyles.includes(t.t))}},mounted(){},methods:{delay(t){return new Promise(e=>{setTimeout(e,t)})},async postData(t){const e=`${H}/audio/styles/update/`;try{return await K(e,{method:"POST",body:JSON.stringify(t)})}catch(o){throw console.error("Error:",o),o}},async handleSynchronize(){if(!this.isSyncing){this.isSyncing=!0,await this.delay(1e3);try{const t=await K(`${H}/audio/styles/`,{method:"GET"});this.processFetchedData(t)}catch(t){console.error("Synchronization failed:",t)}finally{this.isSyncing=!1}}},processFetchedData(t){if(t.styles&&Array.isArray(t.styles)){const e=t.styles;let o=[];try{const a=localStorage.customStyles;o=a?JSON.parse(a):[],Array.isArray(o)||(console.warn("localStyles is not an array. Resetting to empty array."),o=[])}catch(a){console.warn("Failed to parse localStyles from localStorage:",a),o=[]}const s=new Map;e.forEach(a=>{a.t?s.set(a.t,a):console.warn('Server style missing "t" key:',a)}),o.forEach(a=>{a.t?s.set(a.t,a):console.warn('Local style missing "t" key:',a)});const m=Array.from(s.values());try{localStorage.customStyles=JSON.stringify(m)}catch(a){console.error("Failed to save mergedStyles to localStorage:",a)}this.scribeStore.setCustomStyles(m)}else console.warn("No styles found in the fetched data or data.styles is not an array.")},selectStyle(t,e){e?this.selectedDefaultStyles.push(t):this.selectedDefaultStyles=this.selectedDefaultStyles.filter(o=>o!==t),localStorage.selectedDefaultStyles=JSON.stringify(this.selectedDefaultStyles)},selectCustomStyle(t,e){e?this.selectedCustomStyles.push(t):this.selectedCustomStyles=this.selectedCustomStyles.filter(o=>o!==t),localStorage.selectedCustomStyles=JSON.stringify(this.selectedCustomStyles)},deleteCustomStyle(t){this.customStyles=this.customStyles.filter(o=>o.t!==t),localStorage.customStyles=JSON.stringify(this.customStyles);const e={rm:t};this.postData(e)},setStyle(t){this.style=t},saveStyle(){if(!this.style||!this.styleName)return;let t=!1;this.customStyles.forEach(o=>{o.t===this.styleName&&(o.d=this.style,t=!0)}),t||this.customStyles.push({t:this.styleName,d:this.style}),localStorage.customStyles=JSON.stringify(this.customStyles);const e={add:{t:this.styleName,d:this.style}};this.postData(e),this.style="",this.styleName="",this.styleSaveOptions=!1},upgrade(t){ye(this.modalsStore,I.mpTrack)(t)}}},hs={class:"row flex-center"},fs={class:"col-12 mt-3 flex-center"},Ss={class:"row d-flex justify-content-center"},bs={class:"col-12 mt-3"},vs={class:"card",style:{"max-width":"500px",margin:"0 auto"}},xs={class:"card-body"},ks={key:0,class:"form-inline flex-center"},Cs=["disabled"],ws={key:1,class:"d-flex justify-content-center"},Ts=["disabled"],Us={class:"col-md-6 mt-3"},_s={class:"card",style:{"max-width":"500px"}},As={class:"card-body"},Ds=["onClick"],Ls={class:"fs12p"},Ms={class:"fs12p"},Ps={class:"col-md-6 mt-3"},Es={class:"card",style:{"max-width":"500px"}},Bs={class:"card-body"},Fs={class:"card-title"},Rs=["disabled"],zs=["onClick"],Is={class:"fs12p"},Ns={class:"fs12p"};function Os(t,e,o,s,m,a){const c=D("Star"),f=D("RefreshCw"),r=D("Trash2");return l(),d(G,null,[n("div",hs,[n("div",fs,[e[7]||(e[7]=n("h2",{class:"as-title"},"Writing Style",-1)),a.isPro?B("",!0):(l(),d("button",{key:0,class:"ml-3 btn btn-sm btn-warning",onClick:e[0]||(e[0]=u=>a.upgrade("writing-style"))}," Upgrade "))]),e[8]||(e[8]=n("div",{class:"col-12 mt-1"},"Describe a style you want AudioScribe to write in",-1)),n("button",{class:"btn btn-success btn-sm mt-1",onClick:e[1]||(e[1]=u=>t.$emit("back"))},"â† Back")]),n("div",Ss,[n("div",bs,[n("div",vs,[n("div",xs,[e[9]||(e[9]=n("h5",{class:"card-title"},"Current Style",-1)),j(n("textarea",{class:"settings-textarea text-center adjust-textarea","onUpdate:modelValue":e[2]||(e[2]=u=>a.style=u),maxlength:"2000",spellcheck:"false",placeholder:"e.g.: Write like Morgan Housel"},null,512),[[se,a.style]]),m.styleSaveOptions?(l(),d("form",ks,[j(n("input",{type:"text",class:"form-control form-control-sm mb-2 mr-sm-2",placeholder:"Style Name","onUpdate:modelValue":e[3]||(e[3]=u=>m.styleName=u)},null,512),[[se,m.styleName]]),n("button",{class:"btn btn-sm btn-success mb-2",onClick:e[4]||(e[4]=(...u)=>a.saveStyle&&a.saveStyle(...u)),disabled:!m.styleName||!a.style}," Save ",8,Cs)])):(l(),d("div",ws,[n("button",{class:"btn btn-sm btn-success mt-1",onClick:e[5]||(e[5]=u=>m.styleSaveOptions=!m.styleSaveOptions),disabled:!a.style}," Save Style ",8,Ts)]))])])]),n("div",Us,[n("div",_s,[n("div",As,[e[10]||(e[10]=n("h5",{class:"card-title"},"Preset Styles",-1)),e[11]||(e[11]=n("p",{class:"card-text small"},"Choose a preset style to get started.",-1)),(l(!0),d(G,null,X(a.defaultStyles,(u,i)=>(l(),d("div",{key:i,class:"d-flex justify-content-between style-box"},[n("div",{class:"text-left style",onClick:p=>a.setStyle(u.d)},[n("b",Ls,z(u.t),1),n("div",Ms,z(u.d),1)],8,Ds),n("div",null,[a.selectedDefaultStyles.includes(u.t)?(l(),J(c,{key:0,size:16,class:"align-self-center",fill:"currentColor",onClick:p=>a.selectStyle(u.t,!1)},null,8,["onClick"])):(l(),J(c,{key:1,size:16,class:"align-self-center",onClick:p=>a.selectStyle(u.t,!0)},null,8,["onClick"]))])]))),128)),e[12]||(e[12]=n("a",{class:"btn btn-sm btn-success mt-3",href:"https://dictanote.co/n/860064/",target:"_blank"},"Explore Styles",-1))])])]),n("div",Ps,[n("div",Es,[n("div",Bs,[n("h5",Fs,[e[13]||(e[13]=F(" Custom Styles ",-1)),n("button",{type:"button",class:"btn btn-success btn-sm",onClick:e[6]||(e[6]=(...u)=>a.handleSynchronize&&a.handleSynchronize(...u)),disabled:m.isSyncing},[P(f,{size:16,class:q({rotate:m.isSyncing})},null,8,["class"])],8,Rs)]),e[14]||(e[14]=n("p",{class:"card-text small"},"Pick from custom styles you've created.",-1)),(l(!0),d(G,null,X(a.customStyles,(u,i)=>(l(),d("div",{key:i,class:"d-flex justify-content-between style-box"},[n("div",{class:"text-left style",onClick:p=>a.setStyle(u.d)},[n("b",Is,z(u.t),1),n("div",Ns,z(u.d),1)],8,zs),n("div",null,[a.selectedCustomStyles.includes(u.t)?(l(),J(c,{key:0,size:16,class:"align-self-center",fill:"currentColor",onClick:p=>a.selectCustomStyle(u.t,!1)},null,8,["onClick"])):(l(),J(c,{key:1,size:16,class:"align-self-center",onClick:p=>a.selectCustomStyle(u.t,!0)},null,8,["onClick"])),P(r,{size:16,class:"align-self-center ml-1",onClick:p=>a.deleteCustomStyle(u.t)},null,8,["onClick"])])]))),128))])])])])],64)}const tt=ee(gs,[["render",Os]]),Vs={name:"SettingsPanel",components:{ToggleButton:ys,WritingStyle:tt},setup(){const t=Y(1),e=te(),o=xe(),s=ve(),m=we,a=U({get:()=>e.inputLang,set:g=>{e.setInputLang(g),localStorage.asInputLang=g}}),c=U({get:()=>e.outputLang,set:g=>{e.setOutputLang(g),localStorage.asOutputLang=g}}),f=U({get:()=>e.style,set:g=>{e.setStyle(g),localStorage.asStyle=g}}),r=U({get:()=>e.words,set:g=>{e.setWords(g),localStorage.asWords=g}}),u=U({get:()=>e.outputSize,set:g=>{e.setOutputSize(g),localStorage.asOutputSize5=g}}),i=U({get:()=>e.quickSelection,set:g=>{e.setQuickSelection(g),localStorage.quickSelection=Number(g)}}),p=U({get:()=>e.disableRewrite,set:g=>{e.setDisableRewrite(g),localStorage.disableRewrite=Number(g)}}),h=U({get:()=>e.applyVC,set:g=>{e.setApplyVC(g),localStorage.applyVC=Number(g)}}),L=U(()=>{const{expiry:g,lastUpdate:k,proLevel:V}=o;return V>1&&g>k}),b=g=>{ne(()=>{pe(g.target)})},C=()=>{ne(()=>{document.querySelectorAll("#as-settings .adjust-textarea").forEach(k=>{pe(k)})})},w=ye(s,I.mpTrack);return me([f,r,t],()=>{C()}),{settingsPhase:t,languages:m,inputLang:a,outputLang:c,style:f,words:r,outputSize:u,quickSelection:i,disableRewrite:p,applyVC:h,isPro:L,adjustTextarea:b,upgrade:w}}},$s={class:"mt-3",id:"as-settings"},js={key:0},Ws={class:"row"},Hs={class:"col-md-6 mt-3"},qs={class:"card"},Js={class:"card-body"},Gs=["value"],Ks={class:"col-md-6 mt-3"},Xs={class:"card"},Qs={class:"card-body"},Ys=["value"],Zs={class:"row"},en={class:"col-12 mt-3 flex-center"},tn={class:"row"},sn={class:"col-md-6 mt-3"},nn={class:"card"},on={class:"card-body"},an={class:"col-md-6 mt-3"},rn={class:"card"},ln={class:"card-body"},cn={class:"col-md-6 mt-3"},dn={class:"card"},un={class:"card-body"},mn={class:"card-text small mt-1"},pn={key:0},yn={key:1},gn={key:2},hn={key:3},fn={key:4},Sn={class:"col-md-6 mt-3"},bn={class:"card"},vn={class:"card-body"},xn={class:"col-md-6 mt-3"},kn={class:"card"},Cn={class:"card-body"},wn={class:"col-md-6 mt-3"},Tn={class:"card"},Un={class:"card-body"},_n={key:1};function An(t,e,o,s,m,a){const c=D("toggle-button"),f=D("writing-style");return l(),d("div",$s,[s.settingsPhase==1?(l(),d("div",js,[n("div",Ws,[n("div",Hs,[n("div",qs,[n("div",Js,[e[13]||(e[13]=n("h5",{class:"card-title"},"Input Language",-1)),e[14]||(e[14]=n("p",{class:"card-text small"}," Choose the language you will be speaking in. Set to 'Auto Detect' for auto detection. ",-1)),j(n("select",{"onUpdate:modelValue":e[0]||(e[0]=r=>s.inputLang=r),class:"form-control form-control-sm text-center"},[(l(!0),d(G,null,X(s.languages,r=>(l(),d("option",{key:r,value:r},z(r),9,Gs))),128))],512),[[ce,s.inputLang]])])])]),n("div",Ks,[n("div",Xs,[n("div",Qs,[e[15]||(e[15]=n("h5",{class:"card-title"},"Output Language",-1)),e[16]||(e[16]=n("p",{class:"card-text small"}," Generate written content in almost any language you can think of. ",-1)),j(n("select",{"onUpdate:modelValue":e[1]||(e[1]=r=>s.outputLang=r),class:"form-control form-control-sm input-sm text-center"},[(l(!0),d(G,null,X(s.languages,r=>(l(),d("option",{key:r,value:r},z(r),9,Ys))),128))],512),[[ce,s.outputLang]])])])])]),n("div",Zs,[n("div",en,[e[17]||(e[17]=n("h2",{class:"as-title"},"Pro Settings",-1)),s.isPro?B("",!0):(l(),d("button",{key:0,class:"ml-3 btn btn-sm btn-warning",onClick:e[2]||(e[2]=r=>s.upgrade("pro-settings"))}," Upgrade "))])]),n("div",tn,[n("div",sn,[n("div",nn,[n("div",on,[e[18]||(e[18]=n("h5",{class:"card-title"},"Writing Style",-1)),e[19]||(e[19]=n("p",{class:"card-text small"},"Describe a style you want AudioScribe to write in",-1)),j(n("textarea",{class:"settings-textarea text-center adjust-textarea","onUpdate:modelValue":e[3]||(e[3]=r=>s.style=r),maxlength:"2000",spellcheck:"false",placeholder:"e.g.: Write like Morgan Housel",onInput:e[4]||(e[4]=(...r)=>s.adjustTextarea&&s.adjustTextarea(...r))},null,544),[[se,s.style]]),n("button",{class:"btn btn-sm btn-success mt-1",onClick:e[5]||(e[5]=r=>s.settingsPhase=2)}," Manage Styles ")])])]),n("div",an,[n("div",rn,[n("div",ln,[e[20]||(e[20]=n("h5",{class:"card-title"},"Special Words",-1)),e[21]||(e[21]=n("p",{class:"card-text small"}," Add names or specific terms that you want AudioÂ Scribe to spell correctly. ",-1)),j(n("textarea",{class:"settings-textarea text-center adjust-textarea","onUpdate:modelValue":e[6]||(e[6]=r=>s.words=r),maxlength:"2000",spellcheck:"false",placeholder:"seperate each word with a comma",onInput:e[7]||(e[7]=(...r)=>s.adjustTextarea&&s.adjustTextarea(...r))},null,544),[[se,s.words]])])])]),n("div",cn,[n("div",dn,[n("div",un,[e[22]||(e[22]=n("h5",{class:"card-title"},"Output Length",-1)),e[23]||(e[23]=n("p",{class:"card-text small"},"Adjust the final output note length.",-1)),j(n("input",{type:"range","onUpdate:modelValue":e[8]||(e[8]=r=>s.outputSize=r),class:"custom-range",min:"0",max:"4",id:"sizeSlider",style:{width:"180px"}},null,512),[[se,s.outputSize]]),n("p",mn,[s.outputSize==0?(l(),d("span",pn,"Output will be short (~ 20% of input)")):B("",!0),s.outputSize==1?(l(),d("span",yn,"Output will be short (~ 40% of input)")):s.outputSize==2?(l(),d("span",gn,"Output will be of medium length")):s.outputSize==3?(l(),d("span",hn,"Output will be long (~ 80% of input)")):s.outputSize==4?(l(),d("span",fn,"Output will be long and detailed")):B("",!0)])])])]),n("div",Sn,[n("div",bn,[n("div",vn,[e[24]||(e[24]=n("h5",{class:"card-title"},"Quick Selection",-1)),P(c,{sync:!0,modelValue:s.quickSelection,"onUpdate:modelValue":e[9]||(e[9]=r=>s.quickSelection=r)},null,8,["modelValue"]),e[25]||(e[25]=n("p",{class:"card-text small"}," After dictation, AudioScribe will ask you what style and language you want the note to be written in. ",-1))])])]),n("div",xn,[n("div",kn,[n("div",Cn,[e[26]||(e[26]=n("h5",{class:"card-title"},"Just Transcribe",-1)),P(c,{sync:!0,modelValue:s.disableRewrite,"onUpdate:modelValue":e[10]||(e[10]=r=>s.disableRewrite=r)},null,8,["modelValue"]),e[27]||(e[27]=n("p",{class:"card-text small mt-2"}," If enabled, AudioScribe will only generate the transcript. It will disable the rewriter. ",-1))])])]),n("div",wn,[n("div",Tn,[n("div",Un,[e[28]||(e[28]=n("h5",{class:"card-title"},"Apply Voice Commands",-1)),P(c,{sync:!0,modelValue:s.applyVC,"onUpdate:modelValue":e[11]||(e[11]=r=>s.applyVC=r)},null,8,["modelValue"]),e[29]||(e[29]=n("p",{class:"card-text small mt-2"}," If enabled, voice commands will be applied to the transcript and final note. ",-1))])])])])])):s.settingsPhase==2?(l(),d("div",_n,[P(f,{onBack:e[12]||(e[12]=r=>s.settingsPhase=1)})])):B("",!0)])}const Dn=ee(Vs,[["render",An]]),Ln={name:"SetupPanel",emits:["complete"],setup(t,{emit:e}){const o=te(),s=we,m=U({get:()=>o.inputLang,set:f=>{o.setInputLang(f),localStorage.asInputLang=f}}),a=U({get:()=>o.outputLang,set:f=>{o.setOutputLang(f),localStorage.asOutputLang=f}});return{languages:s,inputLang:m,outputLang:a,handleComplete:()=>{localStorage.asInputLang||(localStorage.asInputLang=m.value),localStorage.asOutputLang||(localStorage.asOutputLang=a.value),e("complete")}}}},Mn={id:"as-setup"},Pn={class:"row"},En={class:"col-md-6 mt-3"},Bn={class:"card"},Fn={class:"card-body"},Rn=["value"],zn={class:"col-md-6 mt-3"},In={class:"card"},Nn={class:"card-body"},On=["value"],Vn={class:"row mt-4"},$n={class:"col-12 flex-center"};function jn(t,e,o,s,m,a){return l(),d("div",Mn,[n("div",Pn,[n("div",En,[n("div",Bn,[n("div",Fn,[e[3]||(e[3]=n("h5",{class:"card-title"},"Input Language",-1)),e[4]||(e[4]=n("p",{class:"card-text small"}," Choose the language you will be speaking in. Set to 'Auto Detect' for auto detection. ",-1)),j(n("select",{"onUpdate:modelValue":e[0]||(e[0]=c=>s.inputLang=c),class:"form-control form-control-sm text-center"},[(l(!0),d(G,null,X(s.languages,c=>(l(),d("option",{key:c,value:c},z(c),9,Rn))),128))],512),[[ce,s.inputLang]])])])]),n("div",zn,[n("div",In,[n("div",Nn,[e[5]||(e[5]=n("h5",{class:"card-title"},"Output Language",-1)),e[6]||(e[6]=n("p",{class:"card-text small"}," Generate written content in almost any language you can think of. ",-1)),j(n("select",{"onUpdate:modelValue":e[1]||(e[1]=c=>s.outputLang=c),class:"form-control form-control-sm input-sm text-center"},[(l(!0),d(G,null,X(s.languages,c=>(l(),d("option",{key:c,value:c},z(c),9,On))),128))],512),[[ce,s.outputLang]])])])])]),n("div",Vn,[n("div",$n,[n("button",{class:"btn btn-success btn-lg",onClick:e[2]||(e[2]=(...c)=>s.handleComplete&&s.handleComplete(...c))},"Continue â†’")])])])}const Wn=ee(Ln,[["render",jn]]),Hn={name:"RecordingHome",components:{SessionsList:rs,SettingsPanel:Dn,SetupPanel:Wn,RotateCw:Ze,Mic:Ye,Square:St,X:Ee,ChevronUp:Ke,ChevronDown:Ge,Upload:xt,CheckCircle2:Xe},props:{currentPhase:{type:Number,required:!0},autoStartRecording:{type:Boolean,default:!1}},emits:["change-phase","open-session","start-processing","recording-started"],setup(t,{emit:e}){const o=te(),s=xe(),m=ve(),a=Y(null),c=Y("Alt+Shift+A"),f=U(()=>{const{expiry:A,lastUpdate:R,proLevel:W}=s;return W>1&&A>R}),r=Ft(f),u=ke(),i=U(()=>o.recording),p=U(()=>o.paused),h=U(()=>o.error),L=U({get:()=>o.showSettings,set:A=>o.setShowSettings(A)}),b=U({get:()=>o.showSessions,set:A=>o.setShowSessions(A)}),C=U(()=>s.uid==="-1"),w=()=>{L.value=!L.value,b.value&&(b.value=!1)},g=()=>{b.value=!b.value,L.value&&(L.value=!1),b.value?u.loadSessions():(o.setAudioSessions([]),o.setSessionsSelected(0),o.setLoadingSessions(!1))},k=()=>{a.value=null,e("change-phase",4)},V=()=>{r.togglePause()},Z=()=>{r.stopRecording()},v=()=>{r.cancel()},y=()=>{r.restart(()=>{r.startRecording((A,R,W)=>{o.quickSelection?e("change-phase",1):e("start-processing",A,R,W,r.timeDuration.value)})})},S=()=>{r.record(()=>{r.startRecording((A,R,W)=>{o.quickSelection?(console.log("emitting change-phase 1"),e("change-phase",1)):e("start-processing",A,R,W,r.timeDuration.value)}),ne(()=>{r.startVisualization()})}),e("recording-started")},x=A=>{const R=A.target.files[0],{size:W}=R;if(W>25e6){alert("File is too large, please upload a file less than 25MB."),A.target.value="";return}a.value=R},T=()=>{a.value&&(console.log("handleUploadFile",a.value),o.setCurrentFile(a.value),o.quickSelection?e("change-phase",1):(console.log("handleUploadFile2",a.value,!0,!0,0),e("start-processing",a.value,!0,!0,0)))},_=()=>{localStorage.firstTimeAS="1",localStorage.asInputLang&&localStorage.asOutputLang?e("change-phase",0):e("change-phase",7)},E=()=>{e("change-phase",0)},N=ye(m,I.mpTrack),M=A=>{i.value&&A.keyCode===32&&(A.preventDefault(),A.stopPropagation(),V())};return qe(async()=>{document.body.addEventListener("keydown",M),c.value=await Vt(),ne(()=>{I.isMobile()||($("#as-restart").tooltip({title:"Restart",placement:"left",trigger:"hover"}),$("#as-cancel").tooltip({title:"Cancel",placement:"right",trigger:"hover"})),i.value&&r.startVisualization()})}),nt(()=>{document.body.removeEventListener("keydown",M)}),me(i,A=>{A&&ne(()=>{r.startVisualization()})}),me(()=>t.autoStartRecording,A=>{A&&S()},{immediate:!0}),{recording:i,paused:p,error:h,notLoggedIn:C,showSettings:L,showSessions:b,selectedFile:a,isPro:f,keyboardShortcut:c,toggleSettings:w,toggleSessions:g,goToUpload:k,handleTogglePause:V,handleStopRecording:Z,handleCancel:v,handleRestart:y,handleRecord:S,handleFileSelect:x,handleUploadFile:T,completeIntro:_,completeSetup:E,upgrade:N}}},qn={key:0,class:"d-flex flex-column align-items-center"},Jn=["textContent"],Gn={class:"flex-center mt-3",id:"as-control"},Kn={key:0,class:"red mt-3"},Xn={key:1,class:"red mt-3"},Qn={class:"text-center d-flex justify-content-center",style:{position:"relative","font-weight":"600"}},Yn={class:"w-100"},Zn={key:1},eo={class:"row flex-center"},to={class:"col-12 mt-3 flex-center"},so={class:"col-12 mt-4 d-flex justify-content-center"},no={class:"form-group text-center",style:{width:"240px"}},oo=["disabled"],ao={class:"col-12 mt-2"},io={key:2},ro={key:3},lo={class:"d-flex flex-column align-items-center"};function co(t,e,o,s,m,a){const c=D("RotateCw"),f=D("Mic"),r=D("Square"),u=D("X"),i=D("ChevronUp"),p=D("ChevronDown"),h=D("Upload"),L=D("sessions-list"),b=D("settings-panel"),C=D("CheckCircle2"),w=D("setup-panel");return l(),d("div",null,[o.currentPhase===0?(l(),d("div",qn,[n("p",{class:q([{"opacity-0":s.recording},"fs12"])},[...e[10]||(e[10]=[F(" Hit Record. Start Talking. AudioScribe will structure your thoughts when you're done.",-1),n("br",null,null,-1),n("a",{href:"https://dictanote.co/audioscribe/",target:"_blank",rel:"noopener noreferrer"},"Learn more â†’",-1)])],2),n("div",{id:"equalizer-container",class:q({invisible:!s.recording})},[...e[11]||(e[11]=[ot('<div id="equalizer" class="equalizer"><svg preserveAspectRatio="none" id="visualizer" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><mask id="mask"><g id="maskGroup"></g></mask></defs><rect x="0" y="0" width="100%" height="100%" mask="url(#mask)"></rect></svg><div class="vertical"></div></div>',1)])],2),n("div",{id:"as-pause-resume-c",class:q({invisible:!s.recording})},[n("button",{id:"as-pause-resume",textContent:z(s.paused?"resume":"pause"),onClick:e[0]||(e[0]=(...g)=>s.handleTogglePause&&s.handleTogglePause(...g))},null,8,Jn)],2),n("div",Gn,[P(c,{id:"as-restart",onClick:s.handleRestart,class:q(["as-control-btn",{invisible:!s.recording}]),size:20},null,8,["onClick","class"]),P(f,{id:"as-start",onClick:s.handleRecord,class:q(["as-btn flex-center",{"as-btn-disabled":s.notLoggedIn,"d-none":s.recording}]),size:24},null,8,["onClick","class"]),P(r,{id:"as-stop",onClick:s.handleStopRecording,class:q(["as-btn flex-center",{"d-none":!s.recording}]),size:20,fill:"white",stroke:"none",style:{padding:"18px"}},null,8,["onClick","class"]),P(u,{id:"as-cancel",onClick:s.handleCancel,class:q(["as-control-btn",{invisible:!s.recording}]),size:20},null,8,["onClick","class"])]),s.error?(l(),d("p",Kn,z(s.error),1)):B("",!0),s.notLoggedIn?(l(),d("p",Xn,"Log in to use AudioScribe")):B("",!0),n("div",{class:q(["mt-3 w-100",{"opacity-0":s.recording}])},[n("div",Qn,[n("a",{onClick:e[1]||(e[1]=(...g)=>s.toggleSessions&&s.toggleSessions(...g)),style:{position:"absolute",left:"0"},class:"icon-btn"},[s.showSessions?(l(),J(i,{key:0,size:16})):(l(),J(p,{key:1,size:16})),e[12]||(e[12]=F(" Past Notes ",-1))]),n("a",{onClick:e[2]||(e[2]=(...g)=>s.toggleSettings&&s.toggleSettings(...g)),class:"icon-btn"},[s.showSettings?(l(),J(i,{key:0,size:16})):(l(),J(p,{key:1,size:16})),e[13]||(e[13]=F(" Settings ",-1))]),n("a",{onClick:e[3]||(e[3]=(...g)=>s.goToUpload&&s.goToUpload(...g)),style:{position:"absolute",right:"0"},class:"icon-btn"},[P(h,{size:16}),e[14]||(e[14]=F(" Upload ",-1))])])],2),n("div",Yn,[s.showSessions?(l(),J(L,{key:0,onOpenSession:e[4]||(e[4]=g=>t.$emit("open-session"))})):B("",!0),s.showSettings?(l(),J(b,{key:1})):B("",!0)])])):B("",!0),o.currentPhase===4?(l(),d("div",Zn,[n("div",eo,[n("div",to,[e[15]||(e[15]=n("h2",{class:"as-title"},"Upload Audio File",-1)),s.isPro?B("",!0):(l(),d("button",{key:0,class:"ml-3 btn btn-sm btn-warning",onClick:e[5]||(e[5]=g=>s.upgrade("audio-file"))}," Upgrade "))]),e[16]||(e[16]=n("div",{class:"col-12 mt-1"},[F(" Accepted formats: m4a, mp3, mp4, mpeg, mpga, webm"),n("br"),F(" Max size: 25MB ")],-1)),n("div",so,[n("div",no,[n("input",{type:"file",class:"form-control-file",ref:"fileInput",onChange:e[6]||(e[6]=(...g)=>s.handleFileSelect&&s.handleFileSelect(...g)),accept:".m4a,.mp3,.mp4,.mpeg,.mpga,.webm",disabled:!s.isPro},null,40,oo),s.selectedFile?(l(),d("button",{key:0,onClick:e[7]||(e[7]=(...g)=>s.handleUploadFile&&s.handleUploadFile(...g)),class:"btn btn-success btn-sm mt-2"}," Upload ")):B("",!0)])]),n("div",ao,[n("button",{class:"btn btn-success btn-sm mt-1",onClick:e[8]||(e[8]=g=>t.$emit("change-phase",0))}," â† Back To Home ")])])])):B("",!0),o.currentPhase===6?(l(),d("div",io,[e[24]||(e[24]=n("h2",{style:{"font-size":"1.5em","font-weight":"400","margin-bottom":"20px"}}," Smart AI Writing Assistant ",-1)),e[25]||(e[25]=n("p",null,[F(" AudioScribe converts voice notes into text that's easy to read and ready to publish using AI."),n("br"),F(" Create meeting notes, memos, emails, articles and more. All you have to do is talk. ")],-1)),n("p",null,[P(C,{class:"green mr-1",size:16}),e[17]||(e[17]=F(" Fast and accurate transcription in 20+ languages",-1)),e[18]||(e[18]=n("br",null,null,-1)),P(C,{class:"green mr-1",size:16}),e[19]||(e[19]=F(" Automatic punctuation and filler removal for polished text",-1)),e[20]||(e[20]=n("br",null,null,-1)),P(C,{class:"green mr-1",size:16}),e[21]||(e[21]=F(" Customizable writing styles: from casual notes to memos ",-1))]),n("p",null,[e[22]||(e[22]=F("Use ",-1)),n("code",null,z(s.keyboardShortcut),1),e[23]||(e[23]=F(" to open AudioScribe on any page.",-1))]),n("p",null,[n("a",{class:"btn btn-success btn-lg",onClick:e[9]||(e[9]=(...g)=>s.completeIntro&&s.completeIntro(...g))},"Get Started â†’")])])):B("",!0),o.currentPhase===7?(l(),d("div",ro,[n("div",lo,[e[26]||(e[26]=n("h2",{style:{"font-size":"1.5em","font-weight":"400","margin-bottom":"20px"}}," Let's get you set up ",-1)),e[27]||(e[27]=n("p",{class:"text-center",style:{"max-width":"580px"}},[F(" Configure your language preferences to get the best results from AudioScribe."),n("br"),F(" You can change these anytime in the Settings panel. ")],-1)),P(w,{onComplete:s.completeSetup},null,8,["onComplete"])])])):B("",!0)])}const uo=ee(Hn,[["render",co]]),mo={name:"QuickSelection",emits:["upload-blob","cancel"],setup(t,{emit:e}){const o=te(),s=we,m=U({get:()=>o.outputLang,set:h=>{o.setOutputLang(h),localStorage.asOutputLang=h}}),a=U(()=>o.style),c=U(()=>o.selectedDefaultStyles),f=U(()=>o.customStyles),r=U(()=>o.selectedCustomStyles),u=U(()=>Le.filter(h=>c.value.includes(h.t))),i=U(()=>f.value.filter(h=>r.value.includes(h.t)));return{languages:s,outputLang:m,style:a,styleSelection:u,customStyleSelection:i,handleUploadBlob:h=>{e("upload-blob",h)}}}},po={class:"row flex-center"},yo={class:"col-12 mt-3 d-flex flex-column align-items-center"},go=["value"],ho={class:"d-flex style-box"},fo={key:0,class:"fs12p"},So={key:1,class:"fs12p"},bo=["onClick"],vo={class:"fs12p"},xo={class:"fs12p"},ko=["onClick"],Co={class:"fs12p"},wo={class:"fs12p"},To={class:"mt-4"};function Uo(t,e,o,s,m,a){return l(),d("div",null,[n("div",po,[n("div",yo,[e[4]||(e[4]=n("h5",null,"Output language",-1)),j(n("select",{style:{"max-width":"300px"},"onUpdate:modelValue":e[0]||(e[0]=c=>s.outputLang=c),class:"form-control form-control-sm input-sm text-center"},[(l(!0),d(G,null,X(s.languages,c=>(l(),d("option",{key:c,value:c},z(c),9,go))),128))],512),[[ce,s.outputLang]]),e[5]||(e[5]=n("h5",{class:"mt-3"},"Pick a writing style",-1)),n("div",ho,[n("div",{class:"text-left pick-style mt-2",onClick:e[1]||(e[1]=c=>s.handleUploadBlob())},[e[3]||(e[3]=n("b",{class:"fs12p"},"Current Style",-1)),s.style?(l(),d("div",fo,z(s.style),1)):(l(),d("div",So,"Default style"))])]),(l(!0),d(G,null,X(s.customStyleSelection,(c,f)=>(l(),d("div",{key:f,class:"d-flex style-box"},[n("div",{class:"text-left pick-style mt-2",onClick:r=>s.handleUploadBlob(c.d)},[n("b",vo,z(c.t),1),n("div",xo,z(c.d),1)],8,bo)]))),128)),(l(!0),d(G,null,X(s.styleSelection,(c,f)=>(l(),d("div",{key:f,class:"d-flex style-box"},[n("div",{class:"text-left pick-style mt-2",onClick:r=>s.handleUploadBlob(c.d)},[n("b",Co,z(c.t),1),n("div",wo,z(c.d),1)],8,ko)]))),128)),n("p",To,[n("a",{href:"#",class:"red",onClick:e[2]||(e[2]=ue(c=>t.$emit("cancel"),["prevent"]))},"cancel")])])])])}const _o=ee(mo,[["render",Uo]]),Ao={name:"ProcessingView",components:{AlertTriangle:vt,ArrowLeft:Je,RotateCw:Ze,Download:Qe,Loader:yt},emits:["cancel","download-file"],setup(t,{emit:e}){const o=te(),s=ke(),m=U(()=>s.p2Error.value),a=U(()=>s.p2Status.value),c=U(()=>o.error),f=U(()=>o.currentFile!==null||o.currentFileURL!==null);return{p2Error:m,p2Status:a,error:c,currentFileExists:f,handleCancel:()=>{s.cancelProcessing(),e("cancel")},handleRetry:()=>{s.retryStep()}}}},Do={key:0,class:"mt-4"},Lo={class:"as-title"},Mo={class:"mt-4 fs11"},Po={class:"mt-3 text-center"},Eo={key:1,class:"mt-4"},Bo={class:"mt-4 fs11"},Fo={class:"mt-4"};function Ro(t,e,o,s,m,a){const c=D("AlertTriangle"),f=D("ArrowLeft"),r=D("RotateCw"),u=D("Download"),i=D("Loader");return l(),d("div",null,[s.p2Error?(l(),d("div",Do,[n("h2",Lo,[P(c,{size:20,class:"mt-3"}),e[4]||(e[4]=F(" Error",-1))]),n("p",Mo,z(s.error),1),n("div",Po,[n("button",{class:"btn btn-danger btn-sm ml-1 mt-1",onClick:e[0]||(e[0]=p=>t.$emit("cancel"))},[P(f,{size:16}),e[5]||(e[5]=F(" Cancel ",-1))]),n("button",{class:"btn btn-success btn-sm ml-1 mt-1",onClick:e[1]||(e[1]=(...p)=>s.handleRetry&&s.handleRetry(...p))},[P(r,{size:16}),e[6]||(e[6]=F(" Retry ",-1))]),s.currentFileExists?(l(),d("button",{key:0,class:"btn btn-warning btn-sm ml-1 mt-1",onClick:e[2]||(e[2]=p=>t.$emit("download-file"))},[P(u,{size:16}),e[7]||(e[7]=F(" Download Audio File ",-1))])):B("",!0)])])):(l(),d("div",Eo,[P(i,{size:64,class:"animate-spin mt-3"}),n("p",Bo,z(s.p2Status),1),n("p",Fo,[n("a",{href:"#",class:"red",onClick:e[3]||(e[3]=ue((...p)=>s.handleCancel&&s.handleCancel(...p),["prevent"]))},"cancel")])]))])}const zo=ee(Ao,[["render",Ro]]),Io={name:"ResultView",components:{X:Ee,Plus:gt,ChevronRight:ut,Send:ft,ArrowLeft:Je,Copy:pt,Mic:Ye,Wand2:Pe,Trash2:Me,ChevronDown:Ge,ChevronUp:Ke,Download:Qe},emits:["create-note","append-to-note","back","start-new-session","open-rewrite","create-note-transcript","download-file"],setup(t,{emit:e}){const o=te(),s=ke(),m=Rt,a=Y(""),c=Y(!1),f=Y(""),r=Y(""),u=Y(""),i=U(()=>o.audioID),p=U(()=>o.tags),h=U(()=>o.error),L=U({get:()=>o.title,set:M=>o.setTitle(M)}),b=U({get:()=>o.summary,set:M=>o.setSummary(M)}),C=U({get:()=>o.transcript,set:M=>o.setTranscript(M)}),w=U({get:()=>o.tagView,set:M=>o.setTagView(M)}),g=U({get:()=>o.tagField,set:M=>o.setTagField(M)}),k=U(()=>o.currentFile!==null||o.currentFileURL!==null);f.value=L.value,r.value=b.value,u.value=C.value;const V=()=>{o.setError("")},Z=M=>{ne(()=>{pe(M.target)})},v=()=>{ne(()=>{document.querySelectorAll(".adjust-textarea").forEach(A=>{pe(A)})})},y=M=>{let A=null,R=null;if(M==="title"){if(L.value===f.value)return;A=L.value,R=f}else if(M==="summary"){if(b.value===r.value)return;A=b.value,R=r}else if(M==="transcript"){if(C.value===u.value)return;A=C.value,R=u}s.updateField(i.value,M,A),R.value=A},S=()=>{const M=be(b.value),A=b.value;I.copyToClipboard(M,A,()=>{a.value="Copied",setTimeout(()=>{a.value=""},2e3)}),I.mpTrack("AS CopyNote")},x=()=>{const M=be(C.value),A=C.value;I.copyToClipboard(M,A,()=>{}),I.mpTrack("AS CopyTranscript")},T=()=>{g.value&&s.addTag(i.value,g.value,M=>{o.setTags(M);const A=o.audioSessions.map(R=>R.id===i.value?{...R,tags:M}:R);o.setAudioSessions(A),o.setTagField("")})},_=M=>{s.removeTag(i.value,M,A=>{o.setTags(A);const R=o.audioSessions.map(W=>W.id===i.value?{...W,tags:A}:W);o.setAudioSessions(R)})},E=()=>{s.sendWebhook(i.value,M=>{o.setError(M)})},N=()=>{s.deleteSession(i.value,()=>{e("back")})};return me([b,C,c],()=>{v()}),ne(()=>{v()}),{voicein:m,audioID:i,localTitle:L,localSummary:b,localTranscript:C,tags:p,tagView:w,tagField:g,error:h,copyMessage:a,showTranscript:c,currentFileExists:k,clearError:V,adjustTextarea:Z,handleUpdateField:y,handleCopyNote:S,handleCopyTranscript:x,handleAddTag:T,handleRemoveTag:_,handleSendWebhook:E,handleDeleteSession:N}}},No={class:"mt-3 text-left"},Oo={class:"tags mb-2"},Vo=["onClick"],$o={key:0,class:"input-group input-group-sm",style:{"max-width":"250px"}},jo={class:"input-group-append"},Wo={key:1,class:"mt-4 text-center"},Ho={key:2,class:"red mt-3 text-center"},qo=["innerHTML"],Jo={class:"mt-4 text-center d-flex justify-content-between align-items-center"},Go={class:"d-flex flex-column as-option"},Ko={class:"d-flex flex-column as-option"},Xo={class:"d-flex flex-column as-option mb-0"},Qo={class:"d-flex flex-column as-option"},Yo={class:"d-flex flex-column as-option"},Zo={class:"mt-4"},ea={style:{"font-size":"14px"},class:"text-center"},ta={class:"mt-2"},sa={class:"mt-3 text-center"},na=["disabled"];function oa(t,e,o,s,m,a){const c=D("X"),f=D("Plus"),r=D("ChevronRight"),u=D("Send"),i=D("ArrowLeft"),p=D("Copy"),h=D("Mic"),L=D("Wand2"),b=D("Trash2"),C=D("ChevronDown"),w=D("ChevronUp"),g=D("Download");return l(),d("div",No,[j(n("input",{"onUpdate:modelValue":e[0]||(e[0]=k=>s.localTitle=k),id:"as-title",class:q(["text-center",{"d-none":!s.localTitle}]),onBlur:e[1]||(e[1]=k=>s.handleUpdateField("title"))},null,34),[[se,s.localTitle]]),n("div",{class:q(["d-flex justify-content-center",{"d-none":!s.localTitle}])},[...e[25]||(e[25]=[n("div",{id:"as-div"},null,-1)])],2),j(n("textarea",{"onUpdate:modelValue":e[2]||(e[2]=k=>s.localSummary=k),id:"as-summary",class:"fs11 adjust-textarea",onBlur:e[3]||(e[3]=k=>s.handleUpdateField("summary")),onInput:e[4]||(e[4]=(...k)=>s.adjustTextarea&&s.adjustTextarea(...k))},null,544),[[se,s.localSummary]]),n("div",Oo,[(l(!0),d(G,null,X(s.tags,(k,V)=>(l(),d("button",{class:"btn btn-secondary tag btn-sm mr-1",key:V,onClick:Z=>s.handleRemoveTag(k)},[F(z(k)+" ",1),P(c,{size:14,class:"ml-1"})],8,Vo))),128)),s.tagView?B("",!0):(l(),d("button",{key:0,class:"btn btn-outline-dark btn-sm br20 icon-btn",style:{"border-style":"dashed"},onClick:e[5]||(e[5]=k=>s.tagView=!0)},[P(f,{size:16}),e[26]||(e[26]=F(" Add Tags ",-1))]))]),s.tagView?(l(),d("div",$o,[j(n("input",{type:"text",class:"form-control","onUpdate:modelValue":e[6]||(e[6]=k=>s.tagField=k),placeholder:"add a tag..."},null,512),[[se,s.tagField]]),n("div",jo,[n("button",{class:"btn btn-success",type:"button",onClick:e[7]||(e[7]=(...k)=>s.handleAddTag&&s.handleAddTag(...k))},[P(f,{size:16})]),n("button",{class:"btn btn-secondary",type:"button",onClick:e[8]||(e[8]=k=>s.tagView=!1)},[P(c,{size:16})])])])):B("",!0),s.voicein?B("",!0):(l(),d("div",Wo,[n("button",{class:"btn btn-outline-dark btn-sm br20 icon-btn",onClick:e[9]||(e[9]=k=>t.$emit("create-note"))},[P(f,{size:16}),e[27]||(e[27]=F(" Add To Notebook ",-1))]),n("button",{class:"btn btn-outline-dark btn-sm ml-2 br20 icon-btn",onClick:e[10]||(e[10]=k=>t.$emit("append-to-note"))},[P(r,{size:16}),e[28]||(e[28]=F(" Append To Current Note ",-1))]),n("button",{class:"btn btn-outline-dark btn-sm ml-2 br20 icon-btn",onClick:e[11]||(e[11]=(...k)=>s.handleSendWebhook&&s.handleSendWebhook(...k))},[P(u,{size:16}),e[29]||(e[29]=F(" Send To Webhook ",-1))])])),s.error?(l(),d("p",Ho,[n("span",{innerHTML:s.error},null,8,qo),P(c,{size:16,class:"ml-1 cursor-pointer",style:{color:"black"},onClick:s.clearError},null,8,["onClick"])])):B("",!0),n("div",Jo,[n("div",Go,[n("button",{class:"btn",onClick:e[12]||(e[12]=k=>t.$emit("back"))},[P(i,{size:20})]),e[30]||(e[30]=n("span",{class:"desc"},"Back",-1))]),n("div",Ko,[n("button",{class:"btn",onClick:e[13]||(e[13]=(...k)=>s.handleCopyNote&&s.handleCopyNote(...k))},[P(p,{size:20})]),n("span",{class:q(["desc",{show:s.copyMessage}])},z(s.copyMessage||"Copy"),3)]),n("div",Xo,[n("button",{class:"as-btn",onClick:e[14]||(e[14]=k=>t.$emit("start-new-session"))},[P(h,{size:28})])]),n("div",Qo,[n("button",{class:"btn",onClick:e[15]||(e[15]=k=>t.$emit("open-rewrite"))},[P(L,{size:20})]),e[31]||(e[31]=n("span",{class:"desc"},"Rewrite",-1))]),n("div",Yo,[n("button",{class:"btn",onClick:e[16]||(e[16]=(...k)=>s.handleDeleteSession&&s.handleDeleteSession(...k))},[P(b,{size:20})]),e[32]||(e[32]=n("span",{class:"desc"},"Delete",-1))])]),n("div",Zo,[n("div",ea,[s.showTranscript?(l(),d("a",{key:1,onClick:e[18]||(e[18]=k=>s.showTranscript=!1)},[e[35]||(e[35]=F(" Â ",-1)),P(w,{size:16}),e[36]||(e[36]=F(" Hide Original Transcript ",-1))])):(l(),d("a",{key:0,onClick:e[17]||(e[17]=k=>s.showTranscript=!0)},[e[33]||(e[33]=F(" Â ",-1)),P(C,{size:16}),e[34]||(e[34]=F(" View Original Transcript ",-1))]))]),j(n("div",ta,[j(n("textarea",{"onUpdate:modelValue":e[19]||(e[19]=k=>s.localTranscript=k),id:"as-transcript",class:"fs11 adjust-textarea",onBlur:e[20]||(e[20]=k=>s.handleUpdateField("transcript")),onInput:e[21]||(e[21]=(...k)=>s.adjustTextarea&&s.adjustTextarea(...k))},null,544),[[se,s.localTranscript]]),n("div",sa,[s.voicein?B("",!0):(l(),d("button",{key:0,class:"btn btn-outline-dark btn-sm br20 icon-btn",onClick:e[22]||(e[22]=k=>t.$emit("create-note-transcript"))},[P(f,{size:16}),e[37]||(e[37]=F(" Add To Notebook ",-1))])),n("button",{class:"btn btn-outline-dark btn-sm ml-1 br20 icon-btn",title:"Copy",onClick:e[23]||(e[23]=(...k)=>s.handleCopyTranscript&&s.handleCopyTranscript(...k))},[P(p,{size:16}),e[38]||(e[38]=F(" Copy ",-1))]),n("button",{class:"btn btn-outline-dark btn-sm ml-1 br20 icon-btn",title:"Download",onClick:e[24]||(e[24]=k=>t.$emit("download-file")),disabled:!s.currentFileExists},[P(g,{size:16}),e[39]||(e[39]=F(" Download Audio ",-1))],8,na)])],512),[[at,s.showTranscript]])])])}const aa=ee(Io,[["render",oa]]),ia={name:"RewriteOptions",components:{WritingStyle:tt,Wand2:Pe},emits:["back","rewrite"],setup(t,{emit:e}){const o=Y(1),s=te(),m=xe(),a=ve(),c=we,f=U({get:()=>s.inputLang,set:w=>{s.setInputLang(w),localStorage.asInputLang=w}}),r=U({get:()=>s.outputLang,set:w=>{s.setOutputLang(w),localStorage.asOutputLang=w}}),u=U({get:()=>s.style,set:w=>{s.setStyle(w),localStorage.asStyle=w}}),i=U({get:()=>s.outputSize,set:w=>{s.setOutputSize(w),localStorage.asOutputSize5=w}}),p=U(()=>{const{expiry:w,lastUpdate:g,proLevel:k}=m;return k>1&&w>g}),h=w=>{ne(()=>{pe(w.target)})},L=()=>{ne(()=>{document.querySelectorAll("#rewrite-options .adjust-textarea").forEach(g=>{pe(g)})})},b=ye(a,I.mpTrack),C=()=>{e("rewrite")};return me([u,o],()=>{L()}),{settingsPhase:o,languages:c,inputLang:f,outputLang:r,style:u,outputSize:i,isPro:p,adjustTextarea:h,upgrade:b,handleRewrite:C}}},ra={key:0,id:"rewrite-options"},la={class:"row flex-center"},ca={class:"col-12 mt-3 flex-center"},da={class:"col-12 mt-1"},ua={class:"mt-2"},ma={class:"col-12 mt-2"},pa={class:"row"},ya={class:"col-md-6 mt-2"},ga={class:"card"},ha={class:"card-body"},fa=["disabled"],Sa={class:"col-md-6 mt-2"},ba={class:"card"},va={class:"card-body"},xa=["disabled"],ka={class:"card-text small mt-1"},Ca={key:0},wa={key:1},Ta={key:2},Ua={key:3},_a={key:4},Aa={class:"row"},Da={class:"col-md-6 mt-2"},La={class:"card"},Ma={class:"card-body"},Pa=["value"],Ea={class:"col-md-6 mt-2"},Ba={class:"card"},Fa={class:"card-body"},Ra=["value"],za={class:"col-12 mt-4"},Ia=["disabled"],Na={key:1,id:"rewrite-options"};function Oa(t,e,o,s,m,a){const c=D("Wand2"),f=D("writing-style");return l(),d("div",null,[s.settingsPhase==1?(l(),d("div",ra,[n("div",la,[n("div",ca,[e[10]||(e[10]=n("h2",{class:"as-title"},"Rewrite Note",-1)),s.isPro?B("",!0):(l(),d("button",{key:0,class:"ml-3 btn btn-sm btn-warning",onClick:e[0]||(e[0]=r=>s.upgrade("rewrite"))}," Upgrade "))]),n("div",da,[e[11]||(e[11]=F(" Modify the length, style, and language of this note. ",-1)),n("div",ua,[n("button",{class:"btn btn-success btn-sm",onClick:e[1]||(e[1]=r=>t.$emit("back"))},"â† Back")])]),n("div",ma,[n("div",pa,[n("div",ya,[n("div",ga,[n("div",ha,[e[12]||(e[12]=n("h5",{class:"card-title"},"Writing Style",-1)),e[13]||(e[13]=n("p",{class:"card-text small"},"Describe a style you want AudioScribe to write in",-1)),j(n("textarea",{class:"settings-textarea text-center adjust-textarea","onUpdate:modelValue":e[2]||(e[2]=r=>s.style=r),disabled:!s.isPro,maxlength:"2000",spellcheck:"false",placeholder:"e.g.: Write like Morgan Housel",onInput:e[3]||(e[3]=(...r)=>s.adjustTextarea&&s.adjustTextarea(...r))},null,40,fa),[[se,s.style]]),n("button",{class:"btn btn-sm btn-success mt-1",onClick:e[4]||(e[4]=r=>s.settingsPhase=2)}," Manage Styles ")])])]),n("div",Sa,[n("div",ba,[n("div",va,[e[14]||(e[14]=n("h5",{class:"card-title"},"Output Length",-1)),e[15]||(e[15]=n("p",{class:"card-text small"},"Adjust the final output note length.",-1)),j(n("input",{type:"range","onUpdate:modelValue":e[5]||(e[5]=r=>s.outputSize=r),class:"custom-range",min:"0",max:"4",id:"sizeSlider",disabled:!s.isPro,style:{width:"180px"}},null,8,xa),[[se,s.outputSize]]),n("p",ka,[s.outputSize==0?(l(),d("span",Ca,"Output will be short (~ 20% of input)")):B("",!0),s.outputSize==1?(l(),d("span",wa,"Output will be short (~ 40% of input)")):s.outputSize==2?(l(),d("span",Ta,"Output will be of medium length")):s.outputSize==3?(l(),d("span",Ua,"Output will be long (~ 80% of input)")):s.outputSize==4?(l(),d("span",_a,"Output will be long and detailed")):B("",!0)])])])])]),n("div",Aa,[n("div",Da,[n("div",La,[n("div",Ma,[e[16]||(e[16]=n("h5",{class:"card-title"},"Transcript Language",-1)),j(n("select",{"onUpdate:modelValue":e[6]||(e[6]=r=>s.inputLang=r),class:"form-control form-control-sm text-center"},[(l(!0),d(G,null,X(s.languages,r=>(l(),d("option",{key:r,value:r},z(r),9,Pa))),128))],512),[[ce,s.inputLang]])])])]),n("div",Ea,[n("div",Ba,[n("div",Fa,[e[17]||(e[17]=n("h5",{class:"card-title"},"Output Language",-1)),j(n("select",{"onUpdate:modelValue":e[7]||(e[7]=r=>s.outputLang=r),class:"form-control form-control-sm input-sm text-center"},[(l(!0),d(G,null,X(s.languages,r=>(l(),d("option",{key:r,value:r},z(r),9,Ra))),128))],512),[[ce,s.outputLang]])])])])]),n("div",za,[n("button",{class:"btn btn-warning mr-2 mb-2 icon-btn",title:"Rewrite",disabled:!s.isPro,onClick:e[8]||(e[8]=(...r)=>s.handleRewrite&&s.handleRewrite(...r))},[P(c,{size:16}),e[18]||(e[18]=F(" Rewrite ",-1))],8,Ia),e[19]||(e[19]=n("br",null,null,-1))])])])])):s.settingsPhase==2?(l(),d("div",Na,[P(f,{onBack:e[9]||(e[9]=r=>s.settingsPhase=1)})])):B("",!0)])}const Va=ee(ia,[["render",Oa]]),He={},$a={name:"audioNoteModal",components:{modal:Dt,RecordingHome:uo,QuickSelection:_o,ProcessingView:zo,ResultView:aa,RewriteOptions:Va,Wand2:Pe},setup(){const t=te(),e=ve(),o=ke(),s=Y(0),m=Y(!1),a=U({get:()=>e.audioNote,set:y=>{e.setModal("audioNote",y)}}),c=U(()=>t.recording),f=U(()=>t.heading),r=async()=>{const y=localStorage.asInputLang||"English",S=localStorage.asOutputLang||"English",x=localStorage.asWords||"",T=localStorage.asOutputSize5||2,_=localStorage.quickSelection==="1",E=localStorage.disableRewrite==="1",N=localStorage.applyVC==="1";t.setInputLang(y),t.setOutputLang(S),t.setWords(x),t.setOutputSize(T),t.setQuickSelection(_),t.setDisableRewrite(E),t.setApplyVC(N);const M=localStorage.asStyle||"",A=Te(localStorage.selectedDefaultStyles)||["Casual Memo","List","Formal Email"],R=Te(localStorage.customStyles)||[],W=Te(localStorage.selectedCustomStyles)||[];t.setScribeState({style:M,selectedDefaultStyles:A,customStyles:R,selectedCustomStyles:W}),await It()},u=()=>{zt()},i=()=>{s.value=0,t.resetSession()},p=y=>{s.value=y},h=()=>{s.value=3;const{audioID:y,audioSessions:S,title:x,summary:T,tags:_,createdAt:E}=t;let N=!1;const M=S.map(A=>A.id===y?(N=!0,{...A,title:x,summary:T,tags:_}):A);!N&&y!==-1&&M.unshift({id:y,title:x,summary:T,tags:_,createdAt:E}),t.setAudioSessions(M)},L=(y,S,x,T)=>{s.value=2,console.log("startProcessing",y,S,x,T),o.uploadBlob(y,S,x,T,null,{onUploadSuccess:_=>{o.transcribeAudio(_,{onTranscribeSuccess:()=>{h()},onRewriteStart:E=>{o.rewriteAudio(E,null,()=>{h()})}})},onUpgrade:ye(e,I.mpTrack)})},b=y=>{const{currentFile:S}=t;s.value=2,o.uploadBlob(S,!1,!1,0,y,{onUploadSuccess:x=>{o.transcribeAudio(x,{onTranscribeSuccess:()=>{h()},onRewriteStart:T=>{o.rewriteAudio(T,null,()=>{h()})}})},onUpgrade:ye(e,I.mpTrack)})},C=()=>{const{title:y,summary:S}=t,x=y,T=be(S);a.value=!1,He.emit("create-note",{name:x,content:T}),I.mpTrack("AS CreateNote")},w=()=>{const y=tinymce.activeEditor;if(!y)return;const{summary:S}=t,x=be(S);y.focus(),y.selection.select(y.getBody(),!0),y.selection.collapse(!1),tinymce.activeEditor.execCommand("InsertHTML",!1,`<br>${x}`),a.value=!1},g=()=>{const{title:y,transcript:S}=t,x=y,T=be(S);a.value=!1,He.emit("create-note",{name:x,content:T}),I.mpTrack("AS CreateNoteTranscript")},k=()=>{s.value=0,m.value=!0,t.resetSession()},V=()=>{s.value=5},Z=()=>{s.value=2,o.rewriteAudio(t.audioID,{inputLang:t.inputLang,outputLang:t.outputLang,style:t.style,words:t.words,outputSize:t.outputSize},()=>{h()})},v=()=>{const{currentFile:y,currentFileURL:S}=t;if(y){const x=URL.createObjectURL(y),T=document.createElement("a");T.style.display="none",T.href=x,T.download=y.name,document.body.appendChild(T),T.click(),document.body.removeChild(T),URL.revokeObjectURL(x)}else if(S){const T=`recording.${S.split(".").pop()}`,_=document.createElement("a");_.style.display="none",_.href=`${S}?download=true`,_.download=T,document.body.appendChild(_),_.click(),document.body.removeChild(_)}};return qe(()=>{r(),localStorage.firstTimeAS!=="1"&&(s.value=6),Nt(r)}),me(a,y=>{y?I.mpTrack("AS Open"):I.mpTrack("AS Close")}),{phase:s,autoStartRecording:m,audioNoteModal:a,recording:c,heading:f,closeScribe:u,reset:i,changePhase:p,openPhase3:h,startProcessing:L,uploadBlobWithStyle:b,createNote:C,appendToNote:w,createNoteTranscript:g,startNewSession:k,openRewrite:V,rewriteNote:Z,downloadFile:v}}},ja={class:"icon-btn"};function Wa(t,e,o,s,m,a){const c=D("Wand2"),f=D("recording-home"),r=D("quick-selection"),u=D("processing-view"),i=D("result-view"),p=D("rewrite-options"),h=D("modal");return s.audioNoteModal?(l(),J(h,{key:0,id:"audio-note-modal",large:!0,value:s.audioNoteModal,onCancel:s.closeScribe},{title:Re(()=>[n("span",ja,[s.recording?B("",!0):(l(),J(c,{key:0,size:32})),F(" "+z(s.heading),1)])]),default:Re(()=>[s.phase===0||s.phase===4||s.phase===6||s.phase===7?(l(),J(f,{key:0,"current-phase":s.phase,"auto-start-recording":s.autoStartRecording,onChangePhase:s.changePhase,onOpenSession:s.openPhase3,onStartProcessing:s.startProcessing,onRecordingStarted:e[0]||(e[0]=L=>s.autoStartRecording=!1)},null,8,["current-phase","auto-start-recording","onChangePhase","onOpenSession","onStartProcessing"])):B("",!0),s.phase===1?(l(),J(r,{key:1,onUploadBlob:s.uploadBlobWithStyle,onCancel:s.reset},null,8,["onUploadBlob","onCancel"])):B("",!0),s.phase===2?(l(),J(u,{key:2,onCancel:s.reset,onDownloadFile:s.downloadFile},null,8,["onCancel","onDownloadFile"])):B("",!0),s.phase===3?(l(),J(i,{key:3,onCreateNote:s.createNote,onAppendToNote:s.appendToNote,onBack:s.reset,onStartNewSession:s.startNewSession,onOpenRewrite:s.openRewrite,onCreateNoteTranscript:s.createNoteTranscript,onDownloadFile:s.downloadFile},null,8,["onCreateNote","onAppendToNote","onBack","onStartNewSession","onOpenRewrite","onCreateNoteTranscript","onDownloadFile"])):B("",!0),s.phase===5?(l(),J(p,{key:4,onBack:e[1]||(e[1]=L=>s.phase=3),onRewrite:s.rewriteNote},null,8,["onRewrite"])):B("",!0)]),_:1},8,["value","onCancel"])):B("",!0)}const Ha=ee($a,[["render",Wa]]);window.$t=t=>t;const qa=st(),Fe=it(Ha);Fe.config.globalProperties.$t=t=>t;Fe.use(qa);Fe.mount("body");
